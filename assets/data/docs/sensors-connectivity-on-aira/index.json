{"hash":"727a49d65095ed5db77e9a965c1cf3597bd61f9b","data":{"doc":{"id":"82a49acc47586bb862e17a079940c130","title":"Install Sensors Connectivity on Your Own Aira","headings":[{"value":"Install Sensors Connectivity on Your Own Aira"}],"subtitles":[{"depth":1,"value":"Install Sensors Connectivity on Your Own Aira","anchor":"#install-sensors-connectivity-on-your-own-aira"},{"depth":2,"value":"Prerequirements","anchor":"#prerequirements"},{"depth":2,"value":"Install the Package","anchor":"#install-the-package"},{"depth":3,"value":"Edit Configuration File","anchor":"#edit-configuration-file"},{"depth":3,"value":"Run Manually","anchor":"#run-manually"},{"depth":3,"value":"Run via systemd","anchor":"#run-via-systemd"}],"content":"# Install Sensors Connectivity on Your Own Aira\n\n## Prerequirements\n\nYou must have an AIRA instance somewhere:\n\n* [Aira Installation on Intel NUC]()\n* [Aira Installation on cloud]()\n* [Aira Installation on VirtualBox]() (testing only)\n\n## Install the Package\n\n```\ngit clone https://github.com/airalab/sensors-connectivity\ncd sensors-connectivity\nnix build -f release.nix\n```\n\nFrom this point you can run the package with the default configuration file or create a systemd service to launch it automatically\n\n### Edit Configuration File\n\nAssuming you are in the package root directory edit the file:\n```\ncp config/default.yaml config/my.yaml\nvim config/my.yaml\n```\n\nExtended description of options is located [here]()\n\n### Run Manually\n\nFrom the package directory:\n\n```\nsource result/setup.zsh\nroslaunch sensors_connectivity agent.launch config:=/root/sensors-connectivity/config/my.yaml\n```\n\n### Run via systemd\n\nAdd the following to `/etc/nixos/configuration.nix`:\n\n```\nsystemd.services.connectivity = {\n  requires = [ \"roscore.service\" ];\n  after = [\"roscore.service\" ];\n  wantedBy = [ \"multi-user.target\" ];\n  environment.ROS_MASTER_URI =  \"http://localhost:11311\";\n  script = ''\n    source /root/sensors-connectivity/result/setup.bash \\\n    && roslaunch sensors_connectivity agent.launch config:=/root/sensors-connectivity/config/my.yaml\n  '';\n  serviceConfig = {\n    Restart = \"on-failure\";\n    StartLimitInterval = 0;\n    RestartSec = 60;\n    User = \"root\";\n  };\n};\n```\n\nThen\n\n```\nnixos-rebuild switch\n```\n\n"}},"context":{}}