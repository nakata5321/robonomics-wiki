(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{PUd7:function(e,o){e.exports={type:"image",mimeType:"image/jpeg",src:"/assets/static/vb_forward_usb.15e281f.c901501db27dfd3335fe02e6aad25cb0.jpg",size:{width:708,height:586},sizes:"(max-width: 708px) 100vw, 708px",srcset:["/assets/static/vb_forward_usb.15e281f.c901501db27dfd3335fe02e6aad25cb0.jpg 708w"],dataUri:"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 708 586' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-4b33453b2874275aee9d1006f50f8ddf'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-4b33453b2874275aee9d1006f50f8ddf)' width='708' height='586' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAA1AEADASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAAAAIDBAYHAQX/xAA8EAABAgMEBAkJCQAAAAAAAAABAAIDBBEFEiExBgdBURMyNEJEYXGx0QgUFiJSgZGUwRUYIyVUVnODk//EABgBAQADAQAAAAAAAAAAAAAAAAABAgME/8QAIhEAAgIBAwQDAAAAAAAAAAAAAAECEQMxUdESU5HBE0GB/9oADAMBAAIRAxEAPwC8QdS%2bhdpRI0ackIzojXNhhzbRNSAwUqMKHLBTZjUBoFBhNcLPm3OdgGmee0E0yqr9Y8GI2DMuAjuDogcPwYfsDLeOs4r3ZtrXtgh7Q4B1aEZEBXklF0tDODco29TKJXUJoC1jIhkZuHFLcW%2bevdTeK7VJGorQM9GnDs5U5aG0VbXgiwkcUsbUJTbzeKHAZkBgxVbZoZy3UToG1xIlZypp0p2xMnyftXpPIpz5yItSabwNWub2pSWDK/u/avf0U585E8UqHqD0AhG9Dk5wHHpbzsotSQoGh4FkRIYhRi%2bJL1EYXQZfi%2bqNtcT1r3DHZGbCuPDnVNRkcjsVEgaI2VPGZjzF%2b899COFI2VPN31Xs6NaM2bYs2%2bZs%2b9fe3giTFLxTPIgUyWmRKzhwzzuk4Lp3v1XsY%2b0LZN78kmziQCTDx3bE8y1bUAaHaNzDiOdwjR9FcBkEKlrY1%2bHJ3H4XBVBbVrHPR2aH9o8EybftkEj0Wnj18MzwVxQlrYPDl7j8R4Kd6QWz%2b1Z7/Zngp1l2rOzLnieseYkAC1rTFiNN4knu%2bqsahWm0kS9Gk0itOAaadeP0xRtbEww5FK3kb/FwOWcAJCXoAKw21%2bCVM5w%2b09xXLO5BLfxt7l2Zzh9p7ioNvofGQQgZBCFgQhCAEzMtvXMcjVPJqPzfegIksxvm8H1RxG9wTga0GoGKEIRSFV6yip3lCEJCp3lcJIGZ%2bKEIBF5wJNSQ44D2fFcAffLi8lhwDaZe9CEB/9k=' /%3e%3c/svg%3e"}},UQSp:function(e,o,t){"use strict";o.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}},XlFw:function(e,o,t){"use strict";t.r(o);var n=t("KHd+"),a=t("UQSp"),r=t("Kw5r");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.a.config.optionMergeStrategies;var s={VueRemarkRoot:a.a},c=function(e){var o=e.options.components=e.options.components||{},t=e.options.computed=e.options.computed||{};Object.keys(s).forEach((function(e){"object"===i(s[e])&&"function"==typeof s[e].render||"function"==typeof s[e]&&"function"==typeof s[e].options.render?o[e]=s[e]:t[e]=function(){return s[e]}}))},l=r.a.config.optionMergeStrategies,d="__vueRemarkFrontMatter",p={excerpt:null,title:"Lección 5, Conectividad",contributors:["vourhey"],translated:!1};var v=function(e){e.options[d]&&(e.options[d]=p),r.a.util.defineReactive(e.options,d,p),e.options.computed=l.computed({$frontmatter:function(){return e.options[d]}},e.options.computed)},u=Object(n.a)({},(function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("VueRemarkRoot",[n("h2",{attrs:{id:"iot-como-un-pie-multiple"}},[n("a",{attrs:{href:"#iot-como-un-pie-multiple","aria-hidden":"true"}},[e._v("#")]),e._v("IoT como un pie multiple")]),n("ul",[n("li",[e._v("Software del dispositivo"),n("ul",[n("li",[e._v("FreeRTOS")]),n("li",[e._v("ESP/Arduino")]),n("li",[e._v("Computadoras de placa única (RPi, LattePanda, etc.)")])])]),n("li",[e._v("Conectividad"),n("ul",[n("li",[e._v("IoT Hub")]),n("li",[e._v("IoT Manager")])])]),n("li",[e._v("Servicios analíticos"),n("ul",[n("li",[e._v("AWS")]),n("li",[e._v("Google Cloud IoT Core")]),n("li",[e._v("ThingsBoard")])])])]),n("p",[e._v("Como regla general, la mayoría no está interesada en sensores y servidores, sino en análisis de datos. Para obtenerlo, debe decidir qué dispositivo usar, cómo trabajar con él y dónde conectarse.")]),n("h2",{attrs:{id:"software-del-dispositivo"}},[n("a",{attrs:{href:"#software-del-dispositivo","aria-hidden":"true"}},[e._v("#")]),e._v("Software del Dispositivo")]),n("p",[e._v("Considere el ejemplo de una estación meteorológica doméstica. Es necesario recopilar datos sobre contaminación atmosférica (SDS011), temperatura y humedad (BME). El microcontrolador ESP8266 puede manejar esta tarea.")]),n("p",[e._v("Requisitos:")]),n("ul",[n("li",[e._v("Leer correctamente los datos de los sensores")]),n("li",[e._v("Tener un identificador único")]),n("li",[e._v("Transferir datos a un servidor conocido")]),n("li",[e._v("Proporcionar firma digital de datos (opcional)")])]),n("p",[e._v("Puede encontrar el firmware actual "),n("a",{attrs:{href:"https://github.com/LoSk-p/sensors-software/tree/366b19bf447a5fc19220ef89eab0f2440f8db1c2",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("aquí")]),e._v(".")]),n("h2",{attrs:{id:"que-es-conectividad"}},[n("a",{attrs:{href:"#que-es-conectividad","aria-hidden":"true"}},[e._v("#")]),e._v("Que es Conectividad?")]),n("p",[e._v("En el mundo de IoT, la conectividad se refiere a la conexión de varios dispositivos de IoT a Internet para enviar datos y/o controlar el dispositivo.")]),n("p",[e._v("Las soluciones arquitectónicas conocidas se pueden dividir aproximadamente en 3 grupos:")]),n("ul",[n("li",[e._v("Totalmente descentralizado. Por ejemplo, los dispositivos están conectados por una red de malla. No apto para redes de área extensa debido a los altos requisitos de hardware.")]),n("li",[e._v("Centralizado. Por ejemplo, AWS. Proporciona un único punto de entrada y facilidad de conexión, pero existe un alto riesgo de falla en caso de problemas con el servidor.")]),n("li",[e._v("Híbrido. Por ejemplo, "),n("a",{attrs:{href:"https://github.com/airalab/sensors-connectivity",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Robonomics Connectivity")]),e._v(". Proporciona una dirección para dispositivos en una red “local” y publica datos en un canal de mensajes IPFS distribuido.")])]),n("h2",{attrs:{id:"comparison-of-aws-and-robonomics-connectivity"}},[n("a",{attrs:{href:"#comparison-of-aws-and-robonomics-connectivity","aria-hidden":"true"}},[e._v("#")]),e._v("Comparison of AWS and Robonomics Connectivity")]),n("table",[n("thead",[n("tr",[n("th",[e._v("Management services")]),n("th",[e._v("AWS")]),n("th",[e._v("Robonomics")])])]),n("tbody",[n("tr",[n("td",[e._v("Transaction type")]),n("td",[e._v("Technical")]),n("td",[e._v("Technical and economic")])]),n("tr",[n("td",[e._v("Security")]),n("td",[e._v("IT-company cloud control")]),n("td",[e._v("Polkadot and Ethereum")])]),n("tr",[n("td",[e._v("Protocol")]),n("td",[e._v("HTTPS, MQTT")]),n("td",[e._v("IPFS, Robonomics")])]),n("tr",[n("td",[e._v("Ecosystem")]),n("td",[e._v("Private")]),n("td",[e._v("Shared")])]),n("tr",[n("td",[e._v("Access to DeFi")]),n("td",[e._v("No")]),n("td",[e._v("Yes")])]),n("tr",[n("td",[e._v("Costs")]),n("td",[e._v("Pushing data - $1-2 a sensor")]),n("td",[e._v("Pushing data - $0")])]),n("tr",[n("td"),n("td",[e._v("Shadow         - from $10 a month")]),n("td",[e._v("Digital Twin    - $0,01 a transaction")])])])]),n("h2",{attrs:{id:"instalación-de-conectividad-en-aira"}},[n("a",{attrs:{href:"#instalaci%C3%B3n-de-conectividad-en-aira","aria-hidden":"true"}},[e._v("#")]),e._v("Instalación de Conectividad en AIRA")]),n("div",{staticClass:"youtube-embed"},[n("div",{staticStyle:{width:"100%",margin:"0 auto"}},[n("div",{staticStyle:{position:"relative","padding-bottom":"56.25%","padding-top":"25px",height:"0"}},[n("iframe",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},attrs:{src:"https://www.youtube-nocookie.com/embed/JbBNMHAzJKM",allow:"autoplay; encrypted-media",allowfullscreen:""}})])])]),n("h3",{attrs:{id:"requerimientos"}},[n("a",{attrs:{href:"#requerimientos","aria-hidden":"true"}},[e._v("#")]),e._v("Requerimientos")]),n("ul",[n("li",[n("a",{attrs:{href:"https://www.virtualbox.org/wiki/Downloads",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("VirtualBox 6.1 o superior")]),e._v(" and above")]),n("li",[n("a",{attrs:{href:"https://static.aira.life/ova/airaos-21.03_robonomics-winter-school.ova",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Aira OS ova image")])])]),n("p",[e._v("Importe la Aira Image en VirtualBox como se describe "),n("a",{attrs:{href:"/docs/aira-installation-on-vb/"}},[e._v("aquí")])]),n("p",[e._v("Configurar una conexión a través de "),n("a",{attrs:{href:"/docs/aira-connecting-via-ssh/"}},[e._v("SSH")])]),n("p",[e._v("Cuando todo esté configurado e inicie sesión con éxito a través de SSH, clonemos el paquete principal y compilemos.")]),n("pre",[n("code",{pre:!0},[e._v("git clone https://github.com/airalab/sensors-connectivity\ncd sensors-connectivity\nnix build -f release.nix\n")])]),n("p",[e._v("Ahora creemos una copia del archivo de configuración predeterminado para su uso posterior. Para conocer todas las opciones, consulte [este artículo]((/docs/configuration-options-description/). Luego lanza el paquete con "),n("code",{pre:!0},[e._v("roslaunch")]),e._v(".")]),n("pre",[n("code",{pre:!0},[e._v("cp config/default.json config/my.json\nsource result/setup.zsh\nroslaunch sensors_connectivity agent.launch config:=$PWD/config/my.json\n")])]),n("h2",{attrs:{id:"conectar-el-sensor-a-la-conectividad"}},[n("a",{attrs:{href:"#conectar-el-sensor-a-la-conectividad","aria-hidden":"true"}},[e._v("#")]),e._v("Conectar el Sensor a la Conectividad")]),n("div",{staticClass:"youtube-embed"},[n("div",{staticStyle:{width:"100%",margin:"0 auto"}},[n("div",{staticStyle:{position:"relative","padding-bottom":"56.25%","padding-top":"25px",height:"0"}},[n("iframe",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},attrs:{src:"https://www.youtube-nocookie.com/embed/yxqxBk-6bpI",allow:"autoplay; encrypted-media",allowfullscreen:""}})])])]),n("h3",{attrs:{id:"requerimientos-1"}},[n("a",{attrs:{href:"#requerimientos-1","aria-hidden":"true"}},[e._v("#")]),e._v("Requerimientos")]),n("ul",[n("li",[n("a",{attrs:{href:"https://aqicn.org/sensor/sds011",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Nova SDS011")]),e._v(" sensor ")]),n("li",[n("a",{attrs:{href:"https://yarnpkg.com/getting-started/install",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Yarn Packet Manager")])])]),n("p",[e._v("Ahora conectemos un sensor real, enviemos el puerto USB a la máquina virtual, configuremos un mapa y miremos nuestras propias medidas.")]),n("p",[e._v("Primero, detenga el AIRA OS si se estaba ejecutando y agregue un dispositivo USB correspondiente.")]),n("p",[n("g-image",{attrs:{src:t("PUd7"),alt:"VB USB Forwarding"}})],1),n("p",[e._v("Inicie la VM, conéctese a través de SSH y configure la opción de "),n("code",{pre:!0},[e._v("comstation/port")]),e._v(" de acuerdo con su dispositivo USB en la VM. También habilite la "),n("code",{pre:!0},[e._v("comstation")]),e._v(" y configure su latitud y longitud. Al final, "),n("code",{pre:!0},[e._v("config/my.json")]),e._v(" debería verse así:")]),n("pre",[n("code",{pre:!0},[e._v('{\n   "general":{\n      "publish_interval":30\n   },\n   "comstation":{\n      "enable":true,\n      "port":"/dev/ttyUSB0",\n      "work_period":0,\n      "geo":"59.944917,30.294558",\n      "public_key":""\n   },\n   "httpstation":{\n      "enable":false,\n      "port":8001\n   },\n   "mqttstation": {\n      "enable": false,\n      "host": "connectivity.robonomics.network",\n      "port": 1883\n   },\n   "luftdaten":{\n      "enable":false\n   },\n   "robonomics":{\n      "enable":true,\n      "ipfs_provider":"/ip4/127.0.0.1/tcp/5001/http",\n      "ipfs_topic":"airalab.lighthouse.5.robonomics.eth"\n   },\n   "datalog":{\n      "enable":false,\n      "path":"",\n      "suri":"",\n      "remote":"wss://substrate.ipci.io",\n      "dump_interval":3600,\n      "temporal_username":"",\n      "temporal_password":""\n   },\n   "dev":{\n      "sentry":""\n   }\n}\n')])]),n("blockquote",[n("p",[e._v("Si no tiene un sensor real, puede usar el script de "),n("code",{pre:!0},[e._v("sensors-connectivity/utils/virtual-sensor.py")]),e._v(" para emular uno.")]),n("p",[e._v("Habilite "),n("code",{pre:!0},[e._v("HTTPStation")]),e._v(" y deshabilite "),n("code",{pre:!0},[e._v("COMStation")]),e._v(" cambiando el archivo de configuración como:")]),n("pre",[n("code",{pre:!0},[e._v('{\n   "general":{\n      "publish_interval":30\n   },\n   "comstation":{\n      "enable":false,\n      "port":"/dev/ttyUSB0",\n      "work_period":0,\n      "geo":"59.944917,30.294558",\n      "public_key":""\n   },\n   "httpstation":{\n      "enable":true,\n      "port":8001\n   },\n   ...\n}\n')])]),n("p",[e._v("y el lanzamiento de "),n("code",{pre:!0},[e._v("utils/virtual-sensor.py")]),e._v(" en una terminal dedicada en la VM.  ")])]),n("p",[e._v("Guarde el archivo e inicie la conectividad desde la carpeta de "),n("code",{pre:!0},[e._v("sensors-connectivity")]),e._v(":")]),n("pre",[n("code",{pre:!0},[e._v("source result/setup.zsh\nroslaunch sensors_connectivity agent.launch config:=$PWD/config/my.json\n")])]),n("p",[e._v("Debería ver las primeras medidas en la salida de la consola")]),n("p",[e._v("Busque su ID de IPFS en la VM. Aparece justo después de iniciar la imagen o mediante el comando "),n("code",{pre:!0},[e._v("ipfs id")]),e._v(". Lo necesitaremos más tarde.")]),n("p",[e._v("Ahora configuremos nuestra propia instancia del mapa. En su computadora portátil (no en la VM), clone "),n("a",{attrs:{href:"https://github.com/airalab/sensors.robonomics.network",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("este")]),e._v(" repositorio y compile la aplicación:")]),n("pre",[n("code",{pre:!0},[e._v("git clone https://github.com/airalab/sensors.robonomics.network\ncd sensors.robonomics.network\nyarn install\n")])]),n("p",[e._v("Edite el archivo "),n("code",{pre:!0},[e._v("src/agents.json")]),e._v(" y ponga su ID de IPFS. Por ejemplo:")]),n("pre",[n("code",{pre:!0},[e._v('[\n  "12D3KooWSCFAD3Lpew1HijniE6oFTuo4jsMwHzF87wNnXkpCRYWn"\n]\n')])]),n("p",[e._v("Lanzar el mapa:")]),n("pre",[n("code",{pre:!0},[e._v("yarn serve\n")])]),n("p",[e._v("Vaya a "),n("a",{attrs:{href:"http://localhost:8080/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("http://localhost:8080/")]),e._v(" o la dirección que le dio el hilo y busque el sensor.")]),n("h2",{attrs:{id:"practice"}},[n("a",{attrs:{href:"#practice","aria-hidden":"true"}},[e._v("#")]),e._v("Practice")]),n("h3",{attrs:{id:"trajectory-1-flash-a-sensor-esp--sds011"}},[n("a",{attrs:{href:"#trajectory-1-flash-a-sensor-esp--sds011","aria-hidden":"true"}},[e._v("#")]),e._v("Trajectory 1. Flash a sensor ESP + SDS011")]),n("p",[e._v("Requirements:")]),n("ul",[n("li",[e._v("ESP8266")]),n("li",[e._v("At least one of sensors SDS011, BME280, HTU21D")])]),n("p",[e._v("Use the "),n("a",{attrs:{href:"https://wiki.robonomics.network/docs/connect-sensor-to-robonomics/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("instruction")]),e._v(" to connect a sensor to Robonomics Connectivity. ")]),n("p",[e._v("Check that your sensor appears on our "),n("a",{attrs:{href:"https://sensors.robonomics.network/#/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("map")]),e._v(".")]),n("h3",{attrs:{id:"trajectory-2-launch-connectivity"}},[n("a",{attrs:{href:"#trajectory-2-launch-connectivity","aria-hidden":"true"}},[e._v("#")]),e._v("Trajectory 2. Launch Connectivity")]),n("p",[e._v("Requirements:")]),n("ul",[n("li",[e._v("ROS")]),n("li",[e._v("Python")]),n("li",[e._v("Nix (optional)")])]),n("p",[e._v("Build and launch "),n("a",{attrs:{href:"https://github.com/airalab/sensors-connectivity#get-a-package-and-build",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("sensors-connectivity")])]),n("blockquote",[n("p",[e._v("How it build, install "),n("a",{attrs:{href:"https://wiki.robonomics.network/docs/iot-sensors-connectivity/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("here")]),e._v(" and configure "),n("a",{attrs:{href:"https://wiki.robonomics.network/docs/configuration-options-description/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("here")])])]),n("p",[e._v("General scheme of the package:")]),n("pre",[n("code",{pre:!0},[e._v("    station1 \\                        / feeder1\n    station2 -  sensors-connectivity  - feeder2\n    station3 /                        \\ feeder3\n")])]),n("p",[e._v("The choice is proposed to implement either a new station, for example, a random number generator, or a new feeder, for example, displaying a string on the screen.")]),n("p",[e._v("Interface "),n("code",{pre:!0},[e._v("IStation")]),n("a",{attrs:{href:"https://github.com/airalab/sensors-connectivity/blob/master/src/stations/istation.py#L73",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("here")]),e._v(".")]),n("p",[e._v("Interface "),n("code",{pre:!0},[e._v("IFeeder")]),n("a",{attrs:{href:"https://github.com/airalab/sensors-connectivity/blob/master/src/feeders/ifeeder.py#L5",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("here")])])])}),[],!1,null,null,null);"function"==typeof c&&c(u),"function"==typeof v&&v(u);o.default=u.exports}}]);