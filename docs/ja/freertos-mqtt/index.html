<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Connect an Amazon FreeRTOS Device to Robonomics by MQTT - Robonomics Wiki</title><meta name="gridsome:hash" content="932c26c07af609e4aabbdc1f272c998a6f5b9d1a"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.5b601e85b23fa60d6f424b1cb396bb75.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.5b601e85b23fa60d6f424b1cb396bb75.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.5b601e85b23fa60d6f424b1cb396bb75.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.5b601e85b23fa60d6f424b1cb396bb75.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.5b601e85b23fa60d6f424b1cb396bb75.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.5b601e85b23fa60d6f424b1cb396bb75.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.5b601e85b23fa60d6f424b1cb396bb75.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.5b601e85b23fa60d6f424b1cb396bb75.png"><link rel="preload" href="/assets/css/0.styles.bfbbe56c.css" as="style"><link rel="preload" href="/assets/js/app.9fe95cd6.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--doc-page-vue.e54852c7.js" as="script"><link rel="preload" href="/assets/js/278.ed3b9b1e.js" as="script"><link rel="preload" href="/assets/js/282.695d0430.js" as="script"><link rel="preload" href="/assets/js/285.4063cf08.js" as="script"><link rel="preload" href="/assets/js/284.7da1b516.js" as="script"><link rel="preload" href="/assets/js/7.ceaf11fe.js" as="script"><link rel="preload" href="/assets/js/280.27055714.js" as="script"><link rel="preload" href="/assets/js/277.38744e5e.js" as="script"><link rel="preload" href="/assets/js/vue-remark--docs--ja--freertos-mqtt-md.a3c90fb2.js" as="script"><link rel="preload" href="/assets/js/279.8b19692c.js" as="script"><link rel="preload" href="/assets/js/283.6a1b7770.js" as="script"><link rel="preload" href="/assets/js/276.abb40a19.js" as="script"><link rel="prefetch" href="/assets/js/281.66a1b362.js"><link rel="prefetch" href="/assets/js/286.1023521f.js"><link rel="prefetch" href="/assets/js/287.d9eed714.js"><link rel="prefetch" href="/assets/js/288.111ac2d0.js"><link rel="prefetch" href="/assets/js/289.d1681c4d.js"><link rel="prefetch" href="/assets/js/290.46d44c70.js"><link rel="prefetch" href="/assets/js/291.18f38f77.js"><link rel="prefetch" href="/assets/js/292.4d7da461.js"><link rel="prefetch" href="/assets/js/6.c4ec7888.js"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.f682c009.js"><link rel="prefetch" href="/assets/js/page--src--pages--en--index-vue.26214b29.js"><link rel="prefetch" href="/assets/js/page--src--pages--es--index-vue.f18f6c25.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.ec84edd4.js"><link rel="prefetch" href="/assets/js/page--src--pages--ja--index-vue.153e0199.js"><link rel="prefetch" href="/assets/js/page--src--pages--ru--index-vue.da5cc1a3.js"><link rel="prefetch" href="/assets/js/vendors~page--src--templates--doc-page-vue.1f918d73.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--agent-development-examples-md.4ca0ed0a.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--aira-basic-usage-md.d8e04762.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--aira-connecting-via-ssh-md.7f2a6b2f.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--aira-faq-md.972690b6.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--aira-installation-md.501b43ff.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--aira-installation-on-vb-md.e89d6d43.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--aira-overview-md.8341958b.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--baxter-2-md.a2da7230.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--baxter-md.71162d41.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--community-md.cec20151.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--configuration-options-description-md.5b80af90.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--connect-any-ros-compatitable-robot-under-robonomics-parachain-control-1-md.acbe1644.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--connect-any-ros-compatitable-robot-under-robonomics-parachain-control-2-md.2444af9c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--connect-mars-curiosity-rover-under-robonomics-parachain-control-md.089aff95.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--connect-sensor-to-robonomics-md.93763147.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--connect-sensor-to-robonomics-md~vue-remark--docs--es--connect-sensor-to-robono~85bf1047.946cccad.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--connect-simple-cps-md.1dc2125d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--contributing-md.c3b3a7a7.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--create-account-in-dapp-md.6b82fb62.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--create-digital-identity-run-by-ethereum-md.13f06182.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--cross-chain-messages-md.b3e6cc5c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--edit-wiki-md.3653e718.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--ethereum-common-md.1e8ca115.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--ethereum-common-messages-md.24d4a166.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--freertos-mqtt-md.81e2a6e6.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--gaka-chu-md.672854f0.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--get-weather-on-fuji-mountain-md.c4f380d4.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--get-weather-on-fuji-mountain-md~vue-remark--docs--ja--get-weather-on-fuji-moun~79625c16.4a87cd33.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--getting-started-md.b96b26e5.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--glossary-md.b5e45d2d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--hardware-connect-sensor-md.b7126b30.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--hardware-passing-dynamic-parameters-md.612f643a.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--interact-with-aira-md.acbb0c43.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--iot-firmware-upload-md.6c59510f.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--iot-sensors-connectivity-md.11e0b1ee.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--ipfs-common-md.e12d18bc.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--ipfs-common-messages-md.56fa48aa.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--iris-drone-md.4f342824.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--kuka-md.7c756c68.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--market-messages-md.78416300.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--playground-overview-md.7643f01a.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--r-and-d-based-on-robonomics-network-md.9e4fcf80.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--rio-datalog-md.e8a3dc83.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--rio-ipfs-md.d914fb99.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--rio-launch-md.814ca93b.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--rio-overview-md.4e320fde.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--robonomics-become-a-provider-md.94405da0.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--robonomics-contracts-deployment-md.c690bfe2.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--robonomics-dapp-overview-md.174c1633.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--robonomics-how-it-works-md.63cef387.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--robonomics-js-md.cea4fba5.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--robonomics-liability-md.ea6f58de.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--robonomics-liability-messages-md.1ae770a7.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--robonomics-prometheus-grafana-md.fa87b425.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--robonomics-prometheus-grafana-md~vue-remark--docs--es--robonomics-prometheus-g~cc777160.d026a0bd.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--robonomics-test-network-manual-md.6b8f9365.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--securely-connect-cloud-ai-to-the-factory-floor-md.f3d644ea.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--sensors-connectivity-md.13e73093.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--sensors-connectivity-on-aira-md.97bb1dd4.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--translate-wiki-md.b670acff.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--wschool-2021-build-dapp-for-end-users-md.d4cc17dd.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--wschool-2021-build-dapp-interface-md.4ecc32e0.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--wschool-2021-build-dapp-interface-md~vue-remark--docs--es--wschool-2021-build-~3456f83d.47602d50.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--wschool-2021-connect-robotics-to-user-app-md.7407bd99.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--wschool-2021-connectivity-service-md.2b17ed6e.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--wschool-2021-intro-md.fc7f1ee6.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--wschool-2021-robonomics-github-overview-md.58980e49.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--wschool-2021-robonomics-io-in-practice-md.75a94c56.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--en--wschool-2021-robonomics-parachain-in-practice-md.66c73402.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--agent-development-examples-md.967c8b02.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--aira-basic-usage-md.c7c2bbc3.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--aira-connecting-via-ssh-md.1e2eb205.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--aira-faq-md.91b08076.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--aira-installation-md.328a87ea.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--aira-installation-on-vb-md.79e373cc.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--aira-overview-md.18e78d80.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--baxter-2-md.893d9c0c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--baxter-md.112442b6.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--community-md.b1de5f3f.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--configuration-options-description-md.22dee5de.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--connect-any-ros-compatitable-robot-under-robonomics-parachain-control-1-md.4554cf1c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--connect-any-ros-compatitable-robot-under-robonomics-parachain-control-2-md.da71ddc4.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--connect-mars-curiosity-rover-under-robonomics-parachain-control-md.31dda2b2.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--connect-sensor-to-robonomics-md.67e56306.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--connect-simple-cps-md.a626d98d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--contributing-md.e63dd6cc.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--create-account-in-dapp-md.e9b27eeb.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--create-digital-identity-run-by-ethereum-md.655ee460.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--cross-chain-messages-md.6bf5c3cf.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--edit-wiki-md.10286dda.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--ethereum-common-md.81c23d44.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--ethereum-common-messages-md.aa665b38.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--freertos-mqtt-md.44ac813d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--gaka-chu-md.8d3d008c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--get-weather-on-fuji-mountain-md.4ddef478.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--getting-started-md.75115c64.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--glossary-md.1ed4fe64.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--hardware-connect-sensor-md.c3e07c61.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--hardware-passing-dynamic-parameters-md.1ce94886.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--interact-with-aira-md.ac6487dd.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--iot-firmware-upload-md.949a7d2f.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--iot-sensors-connectivity-md.41a98a2d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--ipfs-common-md.8e5dceb7.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--ipfs-common-messages-md.ec25a140.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--iris-drone-md.50173c64.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--kuka-md.f566b092.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--market-messages-md.a20738af.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--playground-overview-md.00987ff6.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--r-and-d-based-on-robonomics-network-md.13bfb5ff.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--rio-datalog-md.a6611de4.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--rio-ipfs-md.e9b5ad86.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--rio-launch-md.100d98fd.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--rio-overview-md.06237cfe.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--robonomics-become-a-provider-md.7bf12be6.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--robonomics-contracts-deployment-md.8fe72771.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--robonomics-dapp-overview-md.8c47e889.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--robonomics-how-it-works-md.7c025ff3.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--robonomics-js-md.10b762aa.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--robonomics-liability-md.2d805c8b.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--robonomics-liability-messages-md.f44961cf.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--robonomics-prometheus-grafana-md.bf17b7cc.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--robonomics-test-network-manual-md.7933cb54.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--securely-connect-cloud-ai-to-the-factory-floor-md.d6a58286.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--sensors-connectivity-md.eed3e739.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--sensors-connectivity-on-aira-md.d0cc5245.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--translate-wiki-md.3cda74cc.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--wschool-2021-build-dapp-for-end-users-md.9b4bacbf.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--wschool-2021-build-dapp-interface-md.fe35e32d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--wschool-2021-connect-robotics-to-user-app-md.3afcac5d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--wschool-2021-connectivity-service-md.acfcbe70.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--wschool-2021-intro-md.bf41ffc0.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--wschool-2021-robonomics-github-overview-md.58b3653e.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--wschool-2021-robonomics-io-in-practice-md.fb508496.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--es--wschool-2021-robonomics-parachain-in-practice-md.5b3f786f.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--agent-development-examples-md.f30a2ee1.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--aira-basic-usage-md.71a9546c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--aira-connecting-via-ssh-md.95c664bd.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--aira-faq-md.d0bf275c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--aira-installation-md.1c975b3f.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--aira-installation-on-vb-md.ed7c7733.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--aira-overview-md.6a963c58.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--baxter-2-md.aaa201b3.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--baxter-md.9056aedd.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--community-md.8227cfce.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--configuration-options-description-md.edb3edd9.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--connect-any-ros-compatitable-robot-under-robonomics-parachain-control-1-md.8ed9ccdf.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--connect-any-ros-compatitable-robot-under-robonomics-parachain-control-2-md.be06cdd8.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--connect-mars-curiosity-rover-under-robonomics-parachain-control-md.02e1c401.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--connect-sensor-to-robonomics-md.02463fd4.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--connect-simple-cps-md.0c8466b0.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--contributing-md.7acc0433.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--create-account-in-dapp-md.102b875d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--create-digital-identity-run-by-ethereum-md.491d5835.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--cross-chain-messages-md.0f3ba33b.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--edit-wiki-md.89d19d7a.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--ethereum-common-md.afb4c5f9.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--ethereum-common-messages-md.0483c316.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--gaka-chu-md.05010c05.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--get-weather-on-fuji-mountain-md.069489e6.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--getting-started-md.513ff8bf.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--glossary-md.c11594d4.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--hardware-connect-sensor-md.b7259f18.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--hardware-passing-dynamic-parameters-md.86c4708d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--interact-with-aira-md.94a82409.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--iot-firmware-upload-md.fd66adef.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--iot-sensors-connectivity-md.adc000f1.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--ipfs-common-md.9caf5052.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--ipfs-common-messages-md.af04573a.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--iris-drone-md.e46cdc62.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--kuka-md.daddbd07.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--market-messages-md.3ab7df4a.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--playground-overview-md.c7f2eff3.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--r-and-d-based-on-robonomics-network-md.871e3122.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--rio-datalog-md.1e2619fb.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--rio-ipfs-md.4efdd88c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--rio-launch-md.5a8ce93b.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--rio-overview-md.928c59f1.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--robonomics-become-a-provider-md.4104c1fa.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--robonomics-contracts-deployment-md.1a334121.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--robonomics-dapp-overview-md.53a8bfe0.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--robonomics-how-it-works-md.37bedef4.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--robonomics-js-md.edf341b0.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--robonomics-liability-md.2ecd2111.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--robonomics-liability-messages-md.9fcb3264.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--robonomics-prometheus-grafana-md.11aa3428.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--robonomics-test-network-manual-md.f8524bf9.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--securely-connect-cloud-ai-to-the-factory-floor-md.a4c70eb5.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--sensors-connectivity-md.df346927.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--sensors-connectivity-on-aira-md.2e20ca4d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--translate-wiki-md.55b4581d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--wschool-2021-build-dapp-for-end-users-md.766931b8.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--wschool-2021-build-dapp-interface-md.14b9cf8a.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--wschool-2021-connect-robotics-to-user-app-md.cd753d6b.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--wschool-2021-connectivity-service-md.60df0392.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--wschool-2021-intro-md.b0810636.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--wschool-2021-robonomics-github-overview-md.1832dd57.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--wschool-2021-robonomics-io-in-practice-md.1d088e1b.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ja--wschool-2021-robonomics-parachain-in-practice-md.2ee9e770.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--agent-development-examples-md.1dc7b51e.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--aira-basic-usage-md.50eaf4e3.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--aira-connecting-via-ssh-md.3e7afe89.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--aira-faq-md.f22eb360.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--aira-installation-md.713488cf.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--aira-installation-on-vb-md.ee3ad07c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--aira-overview-md.6e77c7d0.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--baxter-2-md.6bc88eb9.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--baxter-md.a8855616.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--community-md.4f0586c3.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--configuration-options-description-md.a479f112.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--connect-any-ros-compatitable-robot-under-robonomics-parachain-control-1-md.a6d17d6d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--connect-any-ros-compatitable-robot-under-robonomics-parachain-control-2-md.06543a9c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--connect-mars-curiosity-rover-under-robonomics-parachain-control-md.54f00e1c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--connect-sensor-to-robonomics-md.0cdde89a.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--connect-simple-cps-md.84308414.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--contributing-md.4450a762.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--create-account-in-dapp-md.815a2576.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--create-digital-identity-run-by-ethereum-md.df52bcd7.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--cross-chain-messages-md.f467aba1.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--edit-wiki-md.d829983e.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--ethereum-common-md.67e6cf88.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--ethereum-common-messages-md.26f3a546.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--freertos-mqtt-md.f6a370d0.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--gaka-chu-md.3158ed9a.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--get-weather-on-fuji-mountain-md.a6b575ae.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--getting-started-md.65b25554.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--glossary-md.73672f44.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--hardware-connect-sensor-md.bf268cbe.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--hardware-passing-dynamic-parameters-md.949b5e9d.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--interact-with-aira-md.59f7325b.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--iot-firmware-upload-md.dbe6da36.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--iot-sensors-connectivity-md.852e4413.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--ipfs-common-md.8ff8ebbb.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--ipfs-common-messages-md.918f6889.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--iris-drone-md.e961da27.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--kuka-md.92affae5.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--market-messages-md.ef137e72.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--playground-overview-md.29f112c6.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--r-and-d-based-on-robonomics-network-md.6ae0243c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--rio-datalog-md.ece5e7b7.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--rio-ipfs-md.e2a08faa.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--rio-launch-md.6d636d67.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--rio-overview-md.a36a78cf.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--robonomics-become-a-provider-md.47b16651.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--robonomics-contracts-deployment-md.aa0001c2.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--robonomics-dapp-overview-md.42673844.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--robonomics-how-it-works-md.ef1fe35c.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--robonomics-js-md.04a58ba3.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--robonomics-liability-md.a745b15e.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--robonomics-liability-messages-md.36fcef33.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--robonomics-prometheus-grafana-md.cb8046ba.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--robonomics-test-network-manual-md.cddc6a54.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--securely-connect-cloud-ai-to-the-factory-floor-md.1c501097.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--sensors-connectivity-md.ad7053ba.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--sensors-connectivity-on-aira-md.59221435.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--translate-wiki-md.19d14db2.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--wschool-2021-build-dapp-for-end-users-md.036dabb8.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--wschool-2021-build-dapp-interface-md.05817b90.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--wschool-2021-connect-robotics-to-user-app-md.b1f6c402.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--wschool-2021-connectivity-service-md.5230ce3f.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--wschool-2021-intro-md.3b6373ae.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--wschool-2021-robonomics-github-overview-md.845eee43.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--wschool-2021-robonomics-io-in-practice-md.4dd0e6a7.js"><link rel="prefetch" href="/assets/js/vue-remark--docs--ru--wschool-2021-robonomics-parachain-in-practice-md.311cbe6e.js"><link rel="stylesheet" href="/assets/css/0.styles.bfbbe56c.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true" class="layout"><div class="footerPusher"><header class="header"><div class="layout__page"><div class="header-top"><a href="/" class="header-logo active"><img alt="Robonomics WIKI" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 50 44' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-09e2d8ba42c1685680267c4888ef9eb3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-09e2d8ba42c1685680267c4888ef9eb3)' width='50' height='44' xlink:href='data:image/svg%2bxml%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA4CAYAAABNGP5yAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHzElEQVRo3t1aC2wUVRTdCgVKS4l8DbQqWCFKhCoS8QNBwJYYUcCkKrEEAhFQCWliolUUQjEkFU2k4jexihGUAIqkUVNFsPKx8YfFohgo34L97q/tbnfb9Zz1DnkOOztD6WdnX3IzM2/fm333vvs5975xOLqxhUIh7TqgqanpRVwP%2b/1%2bJ694XsV%2bdVzcNDKkMN8XNAn0AagqEAh4eQUVS39f/Zx4E0amz%2bfb2Y4WUhqf0b%2bDvzviuYHBOR6PxxeK0KR/TrwLYL668RHkMD/eBfAAHF5dJBNAfyNuZ8cj06oTHN/W1vYJrgHdzrfBBH7FdUrcOUEdM8Nw/zTIp9cAt9t9Frez4l0D7gL9JHx/BXoctMTr9Ta2traybwOGXa/HDrZmXmnc/TVQdXr8ZtwvlDHsfytsB21tZ3BZHq8OkLtdIbu/CzRKfuotIOiY9ltGRka67bVAt/CBeP5YGDwHmoq%2bPsrYXqAiIEO3/E6o3Dtu1B/3z4POtLS0EPq%2bB%2bqvG5uQlZV1I67fipCOVFdXZ%2bCnBLszn5CTkzMKz%2bXC2A%2bgW43UG8/PwT/USJQoBA22pRkoXn8QaDUZam5udlG1TTTlZtD7lBRyg1O4TDMIp7aI%2bbyfghB3Tnb/w7Kysglmzg39D8NUamXOa6AMW4IjLPYm0EZy4XQ6CXMfsThvNGg9o2JDQwO1ZrFd/cBi7L5bdnId6DqjnYygOZnBYLBK5m7Ny8vLjPmwqGPgdtBOYeAoaKIVW1Z8R4qEQg98AYW4zk4x/yo8v%2bJyuTzUfmEk2cruqdGDkBjPZSJERpHxaWlpCTGpBcqCegHTc/d/k4WXoW/4FWjSC8iTzsEcKMw3QQNjPexRdT/1%2b/1Md//sCK7X7e4QqRey/QOaTCHH6u73x/2DoAtIarjgd9B3dRTQ47DoF3KBIf4SIXykhsVY2/1bQLtloSxuzDXw8Fac4MV7QOI03K9luoxw6pKyWUKPRwXdH/fB8zI4vhBATBD3eegbFKEeoM5hAjQGZAUc3QHStIAVpUkxFRZZ6wPtZakP9r9fYyra4vLz88fSTOgzopmGXIeCVjIs1tbWsp64NspmdHvjYUeR7I5XVL%2b/Bbvf4Ha76d2PlpeXz8zOzk40EoDcjwD9iJSZ/7O3oqJieo8JQLewBWQCqh8S8DPUxL6p%2btNAv4jQWB36DDTEZB7xxROgs3CK4dxCrSn0CPNwTCxnfdnU1MQF/S6mkGBiz9cQ3lKdlaKoRw5Fkkz8xmA8b5Npp0EzCgoKErtVC5SFpcqO1MuObLKQISaRUVCL7nAkCN%2bxW3VuUTRuEUtrMIUAwu0OLcfo9oxRsj3NM3%2bh1fSjCYBABtj%2bABnWlcVDgh1WRFJrHVPJdIIy1c/0GX39ulwAOkbSWegARA3U1NRwN58yiudKG8450Bb1YKhdd0S2X8MPJmZ0H8zvgMz5huX2btUA/Mk87ORxrdABGmcB5CxUqsKq%2bl8UQGNjI9XgbQxPiQaOiDBxvxRCaK2rq%2bP8ZzUt6BJ/oL6wpKQkXavjCz6friEzI%2bdVVVWVrqTHkZqqCXSmj1nQAmaLmhbsA93fJQKIEMvzEb/PS8wv0sJelPjNuv962PhZA7XXH5O3C0OpJuAoGVr4KMMiTJFTNzMV73Qh6HL0MUrpupJQVvtTAwH0BsjJlMwwZEUA0i5IhBloIlw6xF08bUL7A1gkRztP6HQB4JoIeh3EoM/S9WpV4gZzRkgG1xLlmwC9KTAqBAQojbcQFh%2bS5Ivta1aiu0L9qcaTQSclXG1DX4aJo%2brHQihAkkfmWBGAfswzPDs0AUeE4q/CLEMCrmgWKZ2tBTeA3mWlFoCFZe6lFpzUVCU9tsr8/8aBKVaW5pmFWB6rg75jeIXA91mtQV6OAObCvrQzfRYoR5hMobmskcSlwwKQVoT3DTPBGMwTFssRuwaoUjssAJ263Q36XDz0YVzutbAjC5Vkp/0ymI/kKE/QFCxo3ARtnVKTnNshAUQoWqyur6/nVlK8KzQnE%2bmlkumNkzDWmS1cFeb7o6w3SZKxOq%2bXETr0RrSSnNVUd4YcaLIdIgQ2mUvVnw7awtwdtKcT6JC8L4vvN4k6Awi4BBdUah9hWBaAbhA9/9aGhga%2b7Dic3yL1S85oBRKhPp1I2jtNQ3VpaelMfn4rm7ansLAw1bIQlBcluVwugooTYFwLe31j9XgqAlrdhByBCz8vH2WlXK4ZpCt2fJBgw4IT6hFmDUyXmKVE1k9tGGv5hSNHjmShYwnsyA/nxxe8pFVqYvJYylgLViK7bFEA1ZBLxht48lkAE4eUXHtqt1dbOqdmMZE%2bjOAI5nxE1WIj6aXm5uZOkm94QsH/XCmrLYkOmzasf6Z8kh8%2bVSouLr5HA0jqoKFygssPGPlZCrG7X2DsaIeNG9Z/LWg7v8aXJO608LkqnMYLelqAzT6lq9G1SoZ1mwaIGBZtRL0UM/gZ/PhV/sDvSZ45OuAk1gjIuASHQ3WC8onLMp7ygp60ES2XdW8EH%2b0GecYWB2L8LglzoSvA7XZpet4OOuDtN4unjzjI5/PVAFf/jXGVoKM2okqum%2buPIoBSasBs3BREEpfT6ayVrG6CfMtrNwr7N/BxwUAjXg6HPjl63s6PleEs6nCtBn3PUrMGIW0cBZIFBJGfauHvmPB757%2bBp7ICip/xLQAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="50" data-src="/assets/static/robonomics-logo-sign-sm.0d639c8.cbcb396938b09b3bd224771b7be31104.svg" data-srcset="/assets/static/robonomics-logo-sign-sm.0d639c8.cbcb396938b09b3bd224771b7be31104.svg 50w" data-sizes="(max-width: 50px) 100vw, 50px" class="inline-block g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/robonomics-logo-sign-sm.0d639c8.cbcb396938b09b3bd224771b7be31104.svg" class="inline-block g-image g-image--loaded" width="50" alt="Robonomics WIKI"></noscript><span class="inline-block">Robonomics WIKI</span></a><div class="header-center"><div tabindex="0" class="search-container"><input type="search" aria-label="Search" placeholder="Search" value=""><!----></div></div><div class="header-nav"><button role="button" aria-label="Toggle dark/light" class="toggle-theme inline-block"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button><select tabindex="0" class="inline-block" data-v-7fee8e38><option selected="selected" value="en" data-v-7fee8e38>en</option><option value="ru" data-v-7fee8e38>ru</option><option value="es" data-v-7fee8e38>es</option><option value="ja" data-v-7fee8e38>ja</option></select><div data-show="sidebarDocs" class="sectionToggler open inline-block hiddenDesktop"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 383 296" height="20px" class="sectionTogglerOpen"><path d="M364.4 124H18.6C8.4 124 0 134.8 0 148s8.4 24 18.6 24h345.7c10.3 0 18.6-10.8 18.6-24s-8.3-24-18.5-24zM364.4 0H18.6C8.4 0 0 10.8 0 24s8.4 24 18.6 24h345.7c10.3 0 18.6-10.8 18.6-24s-8.3-24-18.5-24zM364.4 248H18.6C8.4 248 0 258.8 0 272s8.4 24 18.6 24h345.7c10.3 0 18.6-10.8 18.6-24s-8.3-24-18.5-24z"></path></svg><!----><!----><!----><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 348.3 348.3" height="20px" class="sectionTogglerClose"><path d="M336.6 68.6L231 174.2l105.5 105.5c15.7 15.7 15.7 41.1 0 56.9-7.8 7.8-18.1 11.8-28.4 11.8-10.3 0-20.6-3.9-28.4-11.8L174.2 231 68.6 336.6c-7.8 7.8-18.1 11.8-28.4 11.8-10.3 0-20.6-3.9-28.4-11.8-15.7-15.7-15.7-41.1 0-56.9l105.5-105.5L11.8 68.6c-15.7-15.7-15.7-41.1 0-56.8 15.7-15.7 41.1-15.7 56.8 0l105.6 105.6L279.7 11.8c15.7-15.7 41.1-15.7 56.8 0 15.8 15.7 15.8 41.1.1 56.8z"></path></svg></div></div></div></div></header><main class="main layout__page post"><div class="page"><div id="sidebarDocs" class="page__sidebar hiddenMobile"><ul class="menu" data-v-4b99b4f5><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Meet Robonomics
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/" class="menu-link" data-v-4b99b4f5>
      Introduction
    </a></li><li data-v-4b99b4f5><a href="/docs/en/get-weather-on-fuji-mountain/" class="menu-link" data-v-4b99b4f5>
      DEMO &quot;Get Weather on Fuji Mountain&quot;
    </a></li><li data-v-4b99b4f5><a href="/docs/en/robonomics-dapp-overview/" class="menu-link" data-v-4b99b4f5>
      Robonomics DApp Overview
    </a></li><li data-v-4b99b4f5><a href="/docs/en/r-and-d-based-on-robonomics-network/" class="menu-link" data-v-4b99b4f5>
      R&amp;D Based on Robonomics Network
    </a></li></ul></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Playground
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/playground-overview/" class="menu-link" data-v-4b99b4f5>
      Playground Overview
    </a></li><li data-v-4b99b4f5><a href="/docs/en/create-account-in-dapp/" class="menu-link" data-v-4b99b4f5>
      Create Account on Robonomics Platform
    </a></li><li data-v-4b99b4f5><a href="/docs/en/cross-chain-messages/" class="menu-link" data-v-4b99b4f5>
      Cross-chain Message
    </a></li><li data-v-4b99b4f5><a href="/docs/en/connect-mars-curiosity-rover-under-robonomics-parachain-control/" class="menu-link" data-v-4b99b4f5>
      Connect Mars Curiosity Rover
    </a></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Connect ROS-compatibale Drone
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/connect-any-ros-compatitable-robot-under-robonomics-parachain-control-1/" class="menu-link" data-v-4b99b4f5>
      Part 1. Launch by Transaction
    </a></li><li data-v-4b99b4f5><a href="/docs/en/connect-any-ros-compatitable-robot-under-robonomics-parachain-control-2/" class="menu-link" data-v-4b99b4f5>
      Part 2. Saving Data To Blockchain
    </a></li></ul></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Connect Industrial Robot
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/baxter/" class="menu-link" data-v-4b99b4f5>
      Baxter simulation v1.0
    </a></li><li data-v-4b99b4f5><a href="/docs/en/baxter2/" class="menu-link" data-v-4b99b4f5>
      Baxter simulation v2.0
    </a></li></ul></li><li data-v-4b99b4f5><a href="/docs/en/kuka/" class="menu-link" data-v-4b99b4f5>
      Connect Manipulator
    </a></li><li data-v-4b99b4f5><a href="/docs/en/iris-drone/" class="menu-link" data-v-4b99b4f5>
      Connect Unmanned Aerial Vehicle
    </a></li></ul></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Maintain
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/robonomics-test-network-manual/" class="menu-link" data-v-4b99b4f5>
      Deploy Robonomics Test Network
    </a></li><li data-v-4b99b4f5><a href="/docs/en/robonomics-prometheus-grafana/" class="menu-link" data-v-4b99b4f5>
      Configure Metrics With Prometheus And Grafana
    </a></li></ul></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Cases
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Open Sensors Network
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/connect-sensor-to-robonomics/" class="menu-link" data-v-4b99b4f5>
      Connect Sensor
    </a></li><li data-v-4b99b4f5><a href="/docs/en/iot-sensors-connectivity/" class="menu-link" data-v-4b99b4f5>
      IoT Sensors Connectivity
    </a></li><li data-v-4b99b4f5><a href="/docs/en/sensors-connectivity-on-aira/" class="menu-link" data-v-4b99b4f5>
      Install Connectivity on Aira
    </a></li><li data-v-4b99b4f5><a href="/docs/en/configuration-options-description/" class="menu-link" data-v-4b99b4f5>
      Configuration Options Description
    </a></li><li data-v-4b99b4f5><a href="/docs/en/freertos-mqtt/" class="menu-link" data-v-4b99b4f5>
      Connect an Amazon FreeRTOS device to Robonomics by MQTT
    </a></li></ul></li><li data-v-4b99b4f5><a href="/docs/en/securely-connect-cloud-ai-to-the-factory-floor/" class="menu-link" data-v-4b99b4f5>
      Securely Connect Cloud AI To The Factory Floor
    </a></li><li data-v-4b99b4f5><a href="/docs/en/create-digital-identity-run-by-ethereum/" class="menu-link" data-v-4b99b4f5>
      Create digital identity run by Ethereum
    </a></li><li data-v-4b99b4f5><a href="/docs/en/gaka-chu/" class="menu-link" data-v-4b99b4f5>
      Run Gaka-Chu - a Robot-Artist
    </a></li></ul></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Learn
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/robonomics-js/" class="menu-link" data-v-4b99b4f5>
      Robonomics-js
    </a></li><li data-v-4b99b4f5><a href="/docs/en/glossary/" class="menu-link" data-v-4b99b4f5>
      Glossary
    </a></li><li data-v-4b99b4f5><a href="/docs/en/sensors-connectivity/" class="menu-link" data-v-4b99b4f5>
      Sensors Connectivity
    </a></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Robonomics IO
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/rio-overview/" class="menu-link" data-v-4b99b4f5>
      Overview
    </a></li><li data-v-4b99b4f5><a href="/docs/en/rio-ipfs/" class="menu-link" data-v-4b99b4f5>
      IPFS
    </a></li><li data-v-4b99b4f5><a href="/docs/en/rio-launch/" class="menu-link" data-v-4b99b4f5>
      Launch
    </a></li><li data-v-4b99b4f5><a href="/docs/en/rio-datalog/" class="menu-link" data-v-4b99b4f5>
      Datalog
    </a></li></ul></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        AIRA
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/aira-overview/" class="menu-link" data-v-4b99b4f5>
      Overview
    </a></li><li data-v-4b99b4f5><a href="/docs/en/aira-installation/" class="menu-link" data-v-4b99b4f5>
      Installation
    </a></li><li data-v-4b99b4f5><a href="/docs/en/aira-installation-on-vb/" class="menu-link" data-v-4b99b4f5>
      AIRA installation on VirtualBox
    </a></li><li data-v-4b99b4f5><a href="/docs/en/aira-basic-usage/" class="menu-link" data-v-4b99b4f5>
      Basic usage
    </a></li><li data-v-4b99b4f5><a href="/docs/en/interact-with-aira/" class="menu-link" data-v-4b99b4f5>
      Interact with AIRA
    </a></li><li data-v-4b99b4f5><a href="/docs/en/aira-connecting-via-ssh/" class="menu-link" data-v-4b99b4f5>
      Connecting via SSH
    </a></li><li data-v-4b99b4f5><a href="/docs/en/aira-faq/" class="menu-link" data-v-4b99b4f5>
      F.A.Q.
    </a></li></ul></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Agent Development
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/market-messages/" class="menu-link" data-v-4b99b4f5>
      Market messages
    </a></li><li data-v-4b99b4f5><a href="/docs/en/agent-development-examples/" class="menu-link" data-v-4b99b4f5>
      Examples
    </a></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Robonomics Network
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/robonomics-how-it-works/" class="menu-link" data-v-4b99b4f5>
      How it works
    </a></li><li data-v-4b99b4f5><a href="/docs/en/robonomics-contracts-deployment/" class="menu-link" data-v-4b99b4f5>
      Contracts deployment
    </a></li><li data-v-4b99b4f5><a href="/docs/en/robonomics-become-a-provider/" class="menu-link" data-v-4b99b4f5>
      Become a Provider
    </a></li></ul></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        ROS API Reference
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/robonomics-liability/" class="menu-link" data-v-4b99b4f5>
      Robonomics Liability
    </a></li><li data-v-4b99b4f5><a href="/docs/en/robonomics-liability-messages/" class="menu-link" data-v-4b99b4f5>
      Robonomics Liability Messages
    </a></li><li data-v-4b99b4f5><a href="/docs/en/ethereum-common/" class="menu-link" data-v-4b99b4f5>
      Ethereum Common
    </a></li><li data-v-4b99b4f5><a href="/docs/en/ethereum-common-messages/" class="menu-link" data-v-4b99b4f5>
      Ethereum Common Messages
    </a></li><li data-v-4b99b4f5><a href="/docs/en/ipfs-common/" class="menu-link" data-v-4b99b4f5>
      IPFS Common
    </a></li><li data-v-4b99b4f5><a href="/docs/en/ipfs-common-messages/" class="menu-link" data-v-4b99b4f5>
      IPFS Common Messages
    </a></li></ul></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Hardware Examples
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/connect-simple-cps/" class="menu-link" data-v-4b99b4f5>
      Connect the simplest CPS
    </a></li><li data-v-4b99b4f5><a href="/docs/en/hardware-passing-dynamic-parameters/" class="menu-link" data-v-4b99b4f5>
      Passing dynamic parameters
    </a></li><li data-v-4b99b4f5><a href="/docs/en/hardware-connect-sensor/" class="menu-link" data-v-4b99b4f5>
      Connect an air pollution sensor
    </a></li></ul></li></ul></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Winter School 2021
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/wschool2021-intro/" class="menu-link" data-v-4b99b4f5>
      Introduction
    </a></li><li data-v-4b99b4f5><a href="/docs/en/wschool2021-connect-robotics-to-user-app/" class="menu-link" data-v-4b99b4f5>
      Lesson 1, Connect robotics to user app
    </a></li><li data-v-4b99b4f5><a href="/docs/en/wschool2021-robonomics-github-overview/" class="menu-link" data-v-4b99b4f5>
      Lesson 2, Robonomics GitHub overview
    </a></li><li data-v-4b99b4f5><a href="/docs/en/wschool2021-robonomics-io-in-practice/" class="menu-link" data-v-4b99b4f5>
      Lesson 3, Robonomics IO in practice
    </a></li><li data-v-4b99b4f5><a href="/docs/en/wschool2021-robonomics-parachain-in-practice/" class="menu-link" data-v-4b99b4f5>
      Lesson 4, Robonomics parachain in practice
    </a></li><li data-v-4b99b4f5><a href="/docs/en/wschool2021-connectivity-service/" class="menu-link" data-v-4b99b4f5>
      Lesson 5, Connectivity
    </a></li><li data-v-4b99b4f5><a href="/docs/en/wschool2021-build-dapp-for-end-users/" class="menu-link" data-v-4b99b4f5>
      Lesson 6.1, Build IoT Dapps For End Users
    </a></li><li data-v-4b99b4f5><a href="/docs/en/wschool2021-build-dapp-interface/" class="menu-link" data-v-4b99b4f5>
      Lesson 6.2, Build Dapp Interface
    </a></li></ul></li></ul></li><li data-v-4b99b4f5><h4 class="menu-subtitle close" data-v-4b99b4f5>
        Contribute
      </h4><ul class="menu" data-v-4b99b4f5 data-v-4b99b4f5><li data-v-4b99b4f5><a href="/docs/en/contributing/" class="menu-link" data-v-4b99b4f5>
      How to contribute
    </a></li><li data-v-4b99b4f5><a href="/docs/en/edit-wiki/" class="menu-link" data-v-4b99b4f5>
      How to edit WIKI
    </a></li><li data-v-4b99b4f5><a href="/docs/en/translate-wiki/" class="menu-link" data-v-4b99b4f5>
      Help us translate
    </a></li><li data-v-4b99b4f5><a href="/docs/en/community/" class="menu-link" data-v-4b99b4f5>
      Community
    </a></li></ul></li></ul><div class="banners"><a href="https://share.hsforms.com/1rlIfFL6ZSriaOjtf4NAGPw535vx?sidebar" target="_blank" rel="noopener" class="banner sidebar"><img alt="" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1251 868' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-fb08f0e27b89121cb0ed60a426847e57'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-fb08f0e27b89121cb0ed60a426847e57)' width='1251' height='868' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAsAEADASIAAhEBAxEB/8QAGwAAAgIDAQAAAAAAAAAAAAAABAUDBgACBwH/xAA2EAACAQMDAQUFBAsAAAAAAAABAgMABBEFEiExBiJBUWETFHGBkRUkMqElMzRicpOissHh8P/EABsBAAIDAAMAAAAAAAAAAAAAAAMEAAIFAQYH/8QALxEAAgECAwQHCQAAAAAAAAAAAQIAAxEEEiEFMUGRExUiU4Gx0UJRUmFxgqHB8P/aAAwDAQACEQMRAD8A6RXua0DVjOqIWdlVR1LHAFdsInlFpIASQAMk1s4TAMZ3Ad1j%2b8OtRQ3Vsd4FxHvxxtdTjwJ60Ppos7OB4xfvNDnJ9pIh2knzGPHzqhMKiAqb74HNqrfbkGnwIpBdVkdvXwFPfZ7HxVA7Y9nn1a8W50/WLe3LAB4pJQFJHG4EePH5VZ%2bzcM%2bn6XDDqOqe/TfiErsOh6AHqRweT61w75mAUWAHONinQTCEs16hOmh0%2bsscFGIaWwTI6K8bqykZDKcg/OpxMBQ2W8zrSsX92baJWVcktjpxWamI7nS7hJrdriN0yYQSC/Q44pJrG5r2GOK7lgeVWbCnunZgkn1xRmjTB9OglWV5fbKH3yHLHPnTxXMSsdamFpq43/3oYjjhjaMley9/tQAbWnweT3sDxHLfLyzR1qI/apEdEvI0nkjDytKcKF3BT0zxyD6EeeaD1TtLp93bNHHdXkJiO9miiOQBx5jxIx6igbnUrKZIorbUdRzEgiJQk7iG2ljkjvZI5%2bB5pIoAdDflD2dh2gRz9YygMCPJjQLpcd3vOxDY3dO78h8frG6213IiSaBchUCRRvNO6govCnpxjcT8zVfGsW7xymPVNRkecA4IxtC88AnjPTrz4VBH2ptLBDEZ7mV3O4lwSQcAY68f7qKgO86eEuUf2Qb%2bM6HZXvu2iwLbQvbnAYxE7nXJyRk8Z5%2bFFQauHi7zgup2v8RXOdQ1lmt32PtZRuB68j08aTaLrNx7xL95Z4yzGQE5y/iQcDFNZQjhYenhadbCMxIDAk7jc/K%2bv54zotzEs%2bswby3cgcja2MZYA/UZrbQFH2baRKdoA2ZJ4GGI%2bleA/pVz5QL/AHmotPJW0wDjDyD%2btqviaL1KbLSOVjuPKJZuyA2oFv3HsmlspQCe2Ic4UiQDP/YoeTRo2/FcQA7thw4yOceXTxpRPLIAcOw%2bdK7u7uFztnkHwasM7L2l3/nCCpR4JLHJ2WtZnYSXsK9CD7QYPX09PzoOTsNYSlvvi48cygZ4HpzVOu9SvlJ23c4%2bDml7atqOf265/mGp1ZtLv/OED0/hk/b7Rk0orBZztlgSzMRIDhscdOKrEdnLBdQt7zlcnI9mBnA6ZzTLUbqe6VTczSSkEAF2zgZqGX9ZF/H/AINa2HwzIiisczDjr75pYbFVKdHo0JCnPcfaJ//Z' /%3e%3c/svg%3e" width="1251" data-src="/assets/static/banner_sidebanner_RWS.908883d.dbe8c4eaaa450379ec081653c7a6413f.jpg" data-srcset="/assets/static/banner_sidebanner_RWS.82a2fbd.dbe8c4eaaa450379ec081653c7a6413f.jpg 480w, /assets/static/banner_sidebanner_RWS.908883d.dbe8c4eaaa450379ec081653c7a6413f.jpg 1251w" data-sizes="(max-width: 1251px) 100vw, 1251px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/banner_sidebanner_RWS.908883d.dbe8c4eaaa450379ec081653c7a6413f.jpg" class="g-image g-image--loaded" width="1251"></noscript><!----></a></div></div><div><div class="page-title"><h1>Connect an Amazon FreeRTOS Device to Robonomics by MQTT</h1><ul class="page-title-meta"><li><span>Main contributors: </span><a href="https://github.com/khssnv" target="_blank" rel="noopener">@khssnv</a><!----></li><li><a href="/docs/contributing/">How to contribute</a></li><!----></ul></div><div class="page-content"><div><div><p>Here's the demonstration of how a microcontroller running <a href="https://aws.amazon.com/freertos/" target="_blank" rel="nofollow noopener noreferrer">Amazon Web Services FreeRTOS</a> may be connected to Robonomics Network via MQTT. Please check <a href="http://github.com/khssnv/freertos_mqtt_robonomics_example" target="_blank" rel="nofollow noopener noreferrer">this repository</a> for the project source code.</p><p>We use <a href="https://devices.amazonaws.com/detail/a3G0L00000AANtjUAH/ESP32-WROOM-32-DevKitC/" target="_blank" rel="nofollow noopener noreferrer">ESP32 DevKitC</a> with FreeRTOS distribution and MQTT implementation provided by <a href="https://github.com/espressif/esp-idf" target="_blank" rel="nofollow noopener noreferrer">Espressif IoT Development Framework</a> while Espressif is a vendor of the microcontroller used.</p><p>Also there is a <a href="http://www.plantower.com/en/content/?107.html" target="_blank" rel="nofollow noopener noreferrer">PMS-3003</a> sensor for demonstration purposes. Sensor measures presence of particulated matter in the air and one may use it to estimate air quality.</p><p>Air quality is not a topic of the article, you may find more about it at WHO's website: <a href="https://www.who.int/news-room/fact-sheets/detail/ambient-(outdoor)-air-quality-and-health" target="_blank" rel="nofollow noopener noreferrer">Ambient (outdoor) air pollution</a>. A goal of the system is to publish sensor measurements to Airalab's Robonomics network.</p><h2 id="hardware-setup"><a href="#hardware-setup" aria-hidden="true">#</a>Hardware setup</h2><p>We connect PMS3003 TXD PIN5 to ESP32 DevKitC IO17 to transfer measurements by UART.
Also both devices require power and common ground.</p><p><img alt="Wiring Diagram" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 897 688' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-d8161fe56575f0b5016c15bfb1495295'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-d8161fe56575f0b5016c15bfb1495295)' width='897' height='688' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAxCAYAAABqF6%2b6AAAACXBIWXMAAC4jAAAuIwF4pT92AAAIiklEQVRo3s3a524bMRAEYD9%2bHiFvkH8BgvTee%2b%2b998TpvTL4CIxBn6VIOtmWDyB4TeRydnaW5GmuNMffv39raa/bepZH14blsmmuHeSfP39q/f379/Ljx49F91qAWqCWy5CuHW1Jfz9//iwfPnwo3759q%2b%2b2z9p3J7FrbtDL%2b/btK1evXh2J%2bHIzY1R7jx8/Lnv27Cnz8/NTtbMIAKg53r59W65du1bu3r1b7ty5Uy5fvlzu379fr798%2bVLf4YFXr16VJ0%2belM%2bfP08FwiCPO968eVMePnxYbt%2b%2bXW7dulVt0f%2bLFy%2bqTRzz4MGDel%2bNqZ559%2bbNm9XGSRgxl5PXr1%2bX48ePl0OHDtWOjh49Wq8PHz5cnzmePXtWbty4Ufbv318%2bfvzYC4BuOHWPly9f1v4vXrxYrl%2b/Xm349OlTdYRzAHhmwHEOwI4cOVLOnDmzAGR7tAB3%2b53jyUePHtXB8e7z58/r9dOnT2tx3hru%2btevX0ticJLSGolNFy5cqOy7cuXKwuBz7dyg88x9BTiXLl1a9JtcK35z7ty5qhktEF1HzBmkmEKlr1%2b/1sK779%2b/r%2bfQhXaOAwcOlHfv3k0d74B2MBoIQlDRt8JwNe/nPPdTci/vqdkmjNgPKOMTLkJqIAMYYqAtMqdPny7Hjh2rP6QDu3fvrjURCgOgyXDXuZ/z3O%2bWvMcodNWmUFNv2rSpemxaEd2xY0fZsmVLDVOaYCzCWGhjeFcTKgCtoBkYdIUEJBnLMLFm4PkhscEO72OPa8%2bBqT3n7qW4ll49D3i8hAHxvOd9Qqr1aliAEUQSuLyvv0Fzm0UAOORYgrJt27YqOoTm4MGDtQHvAgQ49%2b7dq7FLgd0LjXft2lXWr19fQeTxvA8sIOqYJ86ePVuN04eY9TtA9k1rie%2bwSXsEWz/64ET2jWSAg9EGSJENDJ1kAgOALC%2b6JjS86xpwPIhyW7durc%2bjK2rX2nW4x7iwiwbxGu%2bxRZ1JT0D5HwgtA7StPbYCQxgQSCUMGwpAUOQRYoeiGjl16lT1onfVOkDddevWLTHGbzLQ9mAQQJNyAUAPTpw4UUWWx2gN5m3fvr2ya%2b/evQsqPooFLQM2b95c7dfu%2bfPnq1MwAcgjQ%2bD379%2b1EcbRADUB6YIUhLv3ABPKtR1hjnBx8ATjAMFAtWdCI6nY%2byiblDsuAzgn4Zj41wd7Mklq318CgJcoM6/zgkxAsbupLzOw9gCe0OFdMT8MAH0yDLj60gedUXbu3FkLIDEC4yZhgH6xSdiaK/A8ALQHnLFCgKHEL5MiawPviHNe5kEIMxwQ7kUHgKCdZIRBALjHOAaZxGBAUiQHOLqeH8WA2J/JG%2bAwQCbIrLId41AGxEMYQOQMUpyilQF4JpY1DFn3PMvM0XnU3zuJe8LmXR2rTVLCAO/J1c4zxZ4kC%2bQ58Nkq/mUyfWAA72PlUAbwTgZu0Jn9iUcoEibeTG7XEXFKbh12YAcwWgByAA84BFeNcQp2dZfek4CgH05jO4DZTwRPnjy5ZPq%2bBADxa7kJRQzQmHu803o43s0iqbsmaEUxGaHLAAPXthknwPUnboVWn0VWG768z%2bvaxwBOVUZqQOs5caOxLEOHeft/%2bwRYk9%2b1DMAgzCCs2mYDiqJslt6TANCGAHE1WJ7PklkWA8pQBnRFUENow0gNiE0ec7/18rCl7SgA9Inu8ZZ3pCl9TgOAEMVedAcoALSrHosB7TwfA6KoGzZsWMSAceNxGAAOXgFCVmyYgK7T7jMYpMGaASoJM5o2SFOWrAbDBEiGAYzUaDeF9AVAnwwCLgYAQMyad4w78xs2EdKHtgxeH0AFtGuaNRAAqCXHJ6ejOyYAYNBGwrQMQE0DByyghRjQI8h9AZBRAmYmZKbUMtlADSB4jOwWRinSyaQ7rqMAMEnhHeBigOso9bQhoK3sHQIA0OqhM8Hl2rGdBADnprlik2FCAQOy/9cXgPwmkzTih/rSq/TO2d2UPTfJZsO4Ro0CwCJLmkLXrDQzb%2b%2bjAd339Um3pETAAoEOBNyBu8Irsb8/DACxb8FikSVlYQCqMnYaBuTbAVDVwkw2s7y2R5GVogL8yoBZAICKQKAvmQjxWKbNw7bMx%2bkz3zdMsgArDWrX4Ak7m4i7%2b%2byYCQDuWfLylLhPzCrTiqC2McukSlhpE9uIbbsl5r1VByBb4TxAA7ImUPMIj%2bW7X18AeF7MS3/iPhuj6nadghUzYYBn6G%2bPgfcVBvIaHbCl1icM2nd5XlsAUJsHWNAR35kBQN3FfDRAikLJLIe9hwXtcrjvJzdAaxMLeN48ACva9c6qA2C9QZykPPfMASi0mqcwwkeNCGE78Zp0RWhuYXtNfxhg3aEQwlUHIPsB%2bYCiWLVl44WRvAUYGpC9x74hoEb1bInpQ0jEETMFoN23o8qUmgYIBzGqJEz6hoD2eV1bWQxhGY2ZKQPaWSWa8jwPqa3S6AEmtB9C%2bu4JaAuTxD9WCTXzjTXBAAa6J0bzHwSe2rhx48K%2b3TRbYtoy87MxKszCAP0AeqYMSE3pKXOWrqgp/ckUff971G7mYIC%2bMUCxNNbPmmAA%2bruXj6O8I0X5oEkXxvkS9L8%2bZRttaTebopgmCwBm5gxgACMZyDDeyZ8asl4ftBKdRAMIaXa0hQQBlAmyHJ45AxhoHUCcxL15gJjlub4a0DLAyi%2bfxwFMAIGxJhigNt%2bXAqUrxsnZ9AATogfdzDHunkWygGU1rwszoWXxNZO1wLAsIDZ5KH/CyIwwf83pexBBbQMXCwCNBWtmHtA9GMoYMRsdwABsyB%2bnJi3awADrjPzLbdDGyaozoP2oQguyiZm/xcnbqacp%2bSsdz2d/IR91wgDArAoA2QNYa8eqbIj4xiCeTXyoc7d4rkbXlSptPylEOP9tWFEA0A7SaL7WCmau2KZonzw%2bq%2bMfkBUSblyzIDYAAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="897" data-src="/assets/static/wiring.de7b2a4.dc3b9e14e018bf9e96099b13a9efd9e5.png" data-srcset="/assets/static/wiring.82a2fbd.dc3b9e14e018bf9e96099b13a9efd9e5.png 480w, /assets/static/wiring.de7b2a4.dc3b9e14e018bf9e96099b13a9efd9e5.png 897w" data-sizes="(max-width: 897px) 100vw, 897px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/wiring.de7b2a4.dc3b9e14e018bf9e96099b13a9efd9e5.png" class="g-image g-image--loaded" width="897" alt="Wiring Diagram"></noscript></p><h2 id="data-flow"><a href="#data-flow" aria-hidden="true">#</a>Data Flow</h2><p>In order to deliver sensor measurements to Robonomics network, on a firmware level our goal is to get data from a sensor by embedded communication protocol it supports (UART in our case) and pass it to AIRA instance by MQTT / TCP.</p><p><img alt="Sending" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 851 152' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-5d7ec161cb033a088f303ecfd27c426d'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-5d7ec161cb033a088f303ecfd27c426d)' width='851' height='152' xlink:href='data:image/svg%2bxml%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAALCAYAAADP9otxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHElEQVRIx61WaUhcVxR%2bbybG1jZqZsiPKrgHk2kQbDCtQgMFA0V/VEGo0FLozxT8KYJKKkJBmyDWKqJRIiLEPW6lYjsq1cZo4hJx3%2bIet7jOjDrz5t1%2b5zpvGCdqAvXCmbuc5Z7lO/eNIGAwxoSTRnp6unAW33E4y7i4uPA5Pj5eOM/R3d0t2ua3eElJSUJNTQ1fZ2dnCysrK2qz2azu6%2btTZWVliYWFhXZfo6OjjzteUFBwpbGx0R/k%2b/jxY9/IyMgLdF5eXs4vLC4u9mpqavKrq6vzra%2bv50RrOispKfEimXv37h1zyMfHR1mqYIdkfck%2b6SlEZw0NDfY9rUnmBAq4e/fuJTKWmJgoOgcviqI96ZOTk%2brTirazs6NS4g4NDRXswS8uLs7s7u6at7e3d41GIxsYGPhJUUIGf3jz5o0VygbwjSCTjYx0Rrz%2b/v7vT6va%2bPj4fdhmW1tbe5ubm4quCXsT7Wl2PnMiA%2b6RlpeXB1BZ9/dF4rNnz34cHh5Oq6qquomCary9vT%2byyRxPIKrpbzAYLOxoSPQzMjKSCZYb6IO5ubkcR57TUOQfkq0bN258gokq5RkREXEZ80UE0EUyCNBqMpnY3t4eVzw4OGC0x7ndGAJl%2b/v7/JwKoczwj1GiAeUvyScvLy%2byTcnwBH0IBFxxc3PTkA8vXrz4GvCvU2yiDcywuYB7Fnt6er4hGYvFooqJiTlKQHNzsy8UjOQQLjKTEgQfgBUEutbS0lIgyzLnIRgZTskIQkZVZTjM5ZHER5DVaTSaMMzBoFseHh5fUE6Apqe9vb3s5cuXFlRRBqLk0dFRWa/Xy0tLS/L09DTfDw0NyYCvPDMzI8/Ozsrz8/Pyq1evZKDTurCwwMAzxMXFfQubn7m6un6O%2bSaI7rgG%2bNP6q6ioKB1kl4EkBjtmFM8Cffb69WueDNxz34aCC45Q8QXDhCoyOGeWJIkB0r8qrYys/0FGJiYmJARCjhGfqk7Om0Gstrb2NxLOzMy8SD1PbYlLeL8haD3agI2NjVkoaQiUwTHW2dnJq0/BkQ3YZ3QPERLDnSYeiiODGJJygGJ8SjZTU1PVdIfNR1oLV69eJQSoYL/u8PCQdK2wYyHCep8SADuDhEqSLy0tPdKmxweVJFzKIC4IZ35WEgQDGTY0EU8CGiQb9CVFHs49sGVW7dCPou3haSEZQPgQlZGAIq4LFEm0X19fl4BSyWq18jX1OxLDebQG4ihx1rW1NWNHR4eObKJI4hlvTjLaZhE2TY69CptrQNHD8PBwV5IrKio6Unjy5Ik/9ZrjgBEFAfSqZrN3DJIhWVTZRXmVFQSsrq52sv8xkFz%2bDqBvWWVlpc5WNNVJn12HR1BdUVFxC8h6hOr/icfwl4SEBK3CtFefRkpKysfol7KNjY1/kOUWOPy0q6srSuG3t7dHAAWtqI4e/GNEZ4B4a1tbWzjJPn/%2bnDum1WoFVJqv0TbfAXr/Qv5v0oH9VoWwb3XeK7bhjx7tpker/DU4ONiJYH6nWMlmXl7eaZ/ct1/5418JdVBQEF%2bXlZUJQn5%2b/pmfFAQnvu%2bfFEBMfNcfpPMYaWlpJ57HxsbyOScnR7hz546Ad0qFtlITAUFqPLrcPzzw3K%2bMjIwjxdzcXJ41OrSR6JjFqakp0YnvTCIQJNp6k%2bvgk2QPnvhhYWHugYGBl4ODgz11Op0HyD0kJOSSv7%2b/ls4CAgI0fn5%2b2uvXr3vcvn3b7ZT7VMnJydxmdXX1uSTzP8dWQrjU9ydxAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="851" data-src="/assets/static/send.7204873.3cfd48c9183b510a11a4ced77d638437.svg" data-srcset="/assets/static/send.82a2fbd.3cfd48c9183b510a11a4ced77d638437.svg 480w, /assets/static/send.7204873.3cfd48c9183b510a11a4ced77d638437.svg 851w" data-sizes="(max-width: 851px) 100vw, 851px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/send.7204873.3cfd48c9183b510a11a4ced77d638437.svg" class="g-image g-image--loaded" width="851" alt="Sending"></noscript></p><p>In our example we use AIRA cloud deployment available by public IP address and domain name assigned.
On AIRA instance we setup <code>mosquitto</code> MQTT broker and subscribe to <code>/freertos_mqtt_robonomics_example/98:F4:AB:72:23:C4</code> topic to get messages from MQTT.</p><p>Then we pass messages to <code>robonomics io</code> writer by pipe.</p><p><img alt="Receiving" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 502 152' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-c33a3de669da8c0bae6df1620f81000a'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-c33a3de669da8c0bae6df1620f81000a)' width='502' height='152' xlink:href='data:image/svg%2bxml%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAATCAYAAAAgcwuHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFwElEQVRYw9VXWUxVRxg%2b596C2JprKVsJiVFqDbc00HQLDU3rowkN4gtpYkhINCRg8KEJ4ANhDyGExKVleSBXoyJhqSQQLZuQyCagIIoadhd22UTZ7z3T7x/n3JzeXoQuSJzky8ycM/%2bZf/1mjiT9j23Hjh3SxYsX%2bTg2NlZmjOkB3dtEX1%2bfTtXn6NGj/86Qs2fP8v7kyZNST0%2bP1QgaJyQkyImJiVJBQYF06tQpq4yrq6uENarx0nY2VQ9qSUlJUmdnpz4nJ0emeXFxsX2hwMBAKTw8nI89PDyk9PR03Rs2kNW%2btbXVuu748eMSHMTHfn5%2bhvr6%2bjP3798vv3v37u9A2RbialdX11X0FYWFhT%2brutkGoqSkZH2vjYyM8P7ChQuyaiCarqKiIu7Bgwd/YIMyjH/Bsw/FOwdbh1CbmprSU3/9%2bvV4tg1tdHTUHBwcvEfVJyoqygCbwuLj4z1ofu7cufWdUFlZaTUEWeDZ1NRUYLvB4ODgQHd3dxP6YfSN%2bfn5wTZZwR3Q0tLyG61XFGUZ3drq6uraZhqto/WQ47BYLHxuNps3lKV1L168sKSlpX2p2lFaWhpBetTW1qbQHIF8z67xSB1uQExMzAEycGZmxixsXtNg1dYhi4uLLC8v70fVCcQVNG5ubj5N78mAgYEBZXh4mD158oQ9ffqUPX78mI%2b1oGfPnj2zzrUNurD%2b/n5yPn9H67TfGRoaUvBeQRaz6elpS0pKir8mA3xhW3FcXNz3tvzwlwZv88jdunWrjDadnJxce/nypQWbK69evWIA7zG3zM/PmxcWFixYRtFlly9f5nQbEhLiFBkZ6URj1P%2bvIiXXSEl8jyE6bG5uji0tLTHIc2APjpWVFfb8%2bXOGb3PDyGhEnfZljx49Yq8DzPic1sFQtry8zL8h3ikTExMMzrZkZ2d/QTr4%2bPgY0LkAnwJeLi4uu9ZN/9u3b/PIFRUVHcJ4DPXO6urqLCAO5dq1awoiysrLyzlu3LihoDwUUhrKKgEBASG0kcFg2Ofu7u6NsfOVK1dMvb29LCMjY40iA05gVVVVDCzM4GSGb7Lq6mrW2NjIvwmmZjU1Nay9vZ1HF%2bTJDUX9Mpw41mygTEBaM3yf0po1NDRwp5EDZmdnuQNyc3N5BsDpPKu9vb29wsLCuH3Qz74DkCpq/e%2bCMt0891GSgIUigVRWMFaox5zGDPXKSwIp2OPo6Pi%2blgva2tpOi/SlEiB5rqgacRUUQXousoxnAq2nLBEcwsiRtIaeUcnROpJVv0dzZAMvM5QJZQB3QEREhF7Y9LmWtO02sCP30IkTJ4zkSZu2CkUsr/XhzazlA2y6AOb1JHlExEH0Z%2bgdkRdliVr/9qDWNEGtcXIYgRrpAyf/TUaVGxsbU8bHxxUqM%2bKA1NRUf41pboAR8NzwAgFhHj148NDDhw9vggyrofzwekcO0vQm0jgpOTnZj%2bRwC5M1p0C2iOCSDZFuCranwJtAPAN2X0V2EG8p0Ocrke7OVAHCvD2CDza8Rcna%2beHDh/cinYtQxxPkZWAZTulBTSfYu32BiLgDwCGxb%2bvsJ8K8d%2b8ezxjSD5c6L9LB2dnZlvQ%2bWNfwY8eOWY0AyenEkWZ1xu7duz/KzMzcj2Nyr7ae4BwHEKV6B5Cio6PVVzspO3A7u9TR0WECzm8F7ty5cx4XtfPgCRPGl0wm00%2bagNCZvw/YLzJB98bog8WtTiCHCG6wnu3ahnrTh4aG8jHu2VwWLM/nBw8e3NZ/AZSmGridwLfADwIOm/4IzlDJ19fXOqe/OxxhMjwsHzlyhD9DvUlGo9G6Rq/XS1lZWXwcFBQkgZ3/6d%2bgfp3xpuVxNOpU/betybK8LftSAOhHzlYdDd5q0/0HGVmMZekdbh8D34ga/AygevoO%2bATwF9dTytNA8dwoQDIHgK%2bFnJuQeSedQSS0S/QEg%2bjpOHISvZv4xXbSPHMUDO4o4LRVCv4JQnLdZVf1slUAAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="502" data-src="/assets/static/recv.0ef8193.24dfa37579dcd7fdc2e08bc460866abc.svg" data-srcset="/assets/static/recv.0ef8193.24dfa37579dcd7fdc2e08bc460866abc.svg 502w" data-sizes="(max-width: 502px) 100vw, 502px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/recv.0ef8193.24dfa37579dcd7fdc2e08bc460866abc.svg" class="g-image g-image--loaded" width="502" alt="Receiving"></noscript></p><p>Now data available in Robonomics Network and we can be read it with <code>robonomics io</code> again.</p><h2 id="firmware"><a href="#firmware" aria-hidden="true">#</a>Firmware</h2><p>We use <a href="https://github.com/espressif/esp-idf/tree/master/examples/protocols/mqtt/tcp" target="_blank" rel="nofollow noopener noreferrer">ESP-MQTT sample application with TCP transport</a> as a basis.</p><p>We only modify <code>main/app_main.c</code> for UART connection to the sensor, SNTP time synchronization and periodic MQTT publisher routine.</p><p>If you are trying to repeat the project, and it's your first ESP IDF based project, at first please follow <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/index.html#installation-step-by-step" target="_blank" rel="nofollow noopener noreferrer">Espressif's ESP-IDF Programming guide</a> introduction in order to familiarize with firmware operations like configuration, build and upload with <code>idf.py</code> tool.</p><h3 id="wi-fi-configuration"><a href="#wi-fi-configuration" aria-hidden="true">#</a>Wi-Fi Configuration</h3><p>In order to communicate with AIRA instance deployed in cloud, our microcontroller requires Internet connection.
We use ESP32's Wi-Fi for it.
Espressif provides utilities to configure on-board Wi-Fi.
In our example we use development environment with Ubuntu 20.04 GNU/Linux.
To configure Wi-Fi we go to project folder and run SDK configuration tool.</p><pre><code class="hljs language-console">cd freertos_mqtt_robonomics_example/firmware
idf.py menuconfig</code></pre><p>Then we set Wi-Fi access point SSID and password in <code>Example Connection Configuration</code> section.</p><p><img alt="Menuconfig Wi-Fi" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 717 324' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-4f240c06b93fc0eaa5ad7009366db6f8'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-4f240c06b93fc0eaa5ad7009366db6f8)' width='717' height='324' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAdCAYAAAAaeWr3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAJJElEQVRYw%2b1YZ3OU1xXemczkQyZfMLFjjycJjo2NG1igAAIEGFFEUQMJUU1xsAFjUwVCFIFA4BIbCDZCoLZ9V7vSrspW7ao3hCpgAZKdv/LkOffdFTIwGM1kxmLCh2fuuaffc86978yrW3WgHCmHHAqJX9gxd4cZy/dpvFX7uWY5kHHEieSDDiTtt2PeTgtSSafInkiN6kXWFcTCXVYk0a8gnbZplCUfLFf%2bV1K%2bOkvbi495jBe7zYhZ202P4B/ETFm3afvRdBQzIxhNjwW6WWfNmE0s%2bdaOmWfMmJJdhmknmRDpOfkWLPzGhqXf2ZXOvHMWTDtOWT5l52jHNf4rK2LzTJhz1oIF563KRuyFXvClFTGnjIg7b8HKSw7EnmZQ2khM8RFP%2bbs5Brx9RI/XD5fh71FkaesU8icfKcPb2Xq8llWKt7h/J9uASaRFLjYif5N82b%2bh9prN00Knu1oI3ZWr0H1/BboCroXXoHhCC/%2bHAk0mdEEhJlvMmGo24W96JmU0YrJJo18n/Xvavsp1isWEPxYV41WDAdPtNrxD/UnUmVRWimm0n8b9eyYDXiPvd9eu0Y8ef9GXIsZm1mA14y2THm9Q5w9F1/FXQxnetdCvmYenrui8yfVVvcYX%2b/cZ84WSIuYp5yh4elzwV%2bNisAbXWsMoaAzgQqAa3wVq8O%2bQR%2bFy2IvrbWG1XgrWopBreUcjSqh7mbbXwx6UtYRQ2lJHP7TxVuFKnQ9f1bpx0VeDq3VeXKsPQt/ZDBNRcbMNRq7mzhYYOppR1NaooO/Q5EbyrYSJ%2b5L2JhS3NSmZhbxS2RPV3e20b0YZ%2bUYiKhf9q60NKGxtfGro7E43Kmv8qPaFUOP1w2SxoczsRKnZAZO9Eq7aAGooM1qdcNf6UGYwo8TqgrPaC6PNgXJXNar9IdTVN8JU7obf40KIBe3qbEI45OW%2bEk1Ndfh5%2bDaG7vXjPjF8fwBDhKw/DRERemhk1XR%2buj9a1j%2byv0cfUd3hh%2bQ/D40Nusy8KmzKc%2bGjsy5knnIj/UQltp6vwZb8Kqw77cbaXBd5FVh/yoXlfLzi99qxLrdSydOOVWLmLhs2kxadT7%2buQVtfL%2b4OD%2bA2k7kzCgODvY9FfwRPI3vc/nH6Y4HugsmLK/YgSlwhfF3mwTd6Hy7bgrjqCOFfeg8KnSFcKa/DJUsQl6x1yC/x4CJthD5HOregCt8aPPjeHsIPVh9au9oxcKcbPbe60Hf7JnoGOtHV14Fbg31E7whu3%2b0bWX9L6LweByqrHaji6IYbfWhrD8Ljr4KLvBpvBTw%2bFzx8F7wBt0Jzs5dXwo1eHrCh0YtQqAr1vP%2b9PGhre5h2Tl4bN6q8bq4u%2bIPV8PEqDA7fwd2hWxgkxsvhVQGa2hpwo7cDLR1NaOW99dd54Al6UcuHMBD2IdwcQltXi6KDDQEE%2bQg28KFp4KPp4aNYw4MGG4IIUa9O5MSNnjb4%2bPj5%2bYiGmyjjg%2bkL%2bdDAx7Ke6P%2bxZ/xMgCR0kyPadqOZRWhgl6vhrw8gUO9DiMkLv7WzkQfyoJmvv8fvpiyIVvLDzUE%2bfj5VnBa%2byrW%2bKjS21qsroIrXFFBFEN0gfXpZsEC9f3wVIMwXuqu3XR3UV1cLe6VdjbjQAXa2p78TFVUONcY1PKCMejl1LE6bOpyXL34VP30d3W0Y%2bs8gfuSDJ47v8tWXcZdVeHeHNVowrq5AJxOX%2b9zNg8oktHPcBZ0c486edvWQdfGK9AzcUIfso64US66F8G90t6p9N%2bWjH7lfw7iZgDv8pkY3Qku3NPQrRPlRmewHIzqj9YUeL10dUwHG0rVnpatjKsCz1rHnBXhegOcFGL%2bP4LMI3eA9ftb%2bj6FrGbiJ/z268Nv4HXtc3YTSYrxATIysT8KIbtmT9aLyCQ/ZjZbJOvExdr%2bGJ8V7GvuHoXvlXAleOlOMP%2bUV4UWuL%2bYV4%2bX8Evz5rKzCL1a06LxCvsgnnCpSPJGNtlF0xFdU/%2bUIRF%2bTPdAR%2bqUzD3xMVLwnQ8uLOUtOEajc8zTfGopG6Ef5v4Qu42gFNh6vVEjPrlC/sYW3nlhLZBLyG3vp5zYs22vH5pMu7PmyGutyqEOI7paTmu3GYxXqd3fsViMSqZtJXmYOZYcdWLLHhkWf2ZT%2bBsbaRHy424rVh53YmutScRZTR/32/vjRX%2bTCE5n8is/IdmLVPrvyt47%2bxV8K487YYlSx5Xd3LHWFnk7eDK4P/06PQpd01IFUImGfFYv22bA8qxxpxxxYvN%2bGmZ%2baMGe3GbN3ErvMmLHDhLmfWbDsoB3zuIpMILxZOyMrbWL%2bacTCvValt5RY%2bIVGJ9J3xskKrDpSrvwLX%2bSZ5CXs0%2bLFfhLBjgg%2beYDp9Ct2YiP5xjF2UrYDaTla/pLTkgM2xDFX8Z1AXYkVzUHsH/avS2PXUulkwR4a77crh5KQ7N/fakDMx0Z8sN2IadsMCrJ/b4t%2bhCer6Ak9lZjBIBJIirlUkj3AYjHRNcedSDpcjtXHnEhhUvFMNp4xVhyyYxX5HzLBqdse%2bJE404mpkRiyF9/iL1EVwKYOLP4yTjiVnzm7LUhh/nOlMEccis44UaEaLLmIfcz2X/rUJR/lOGXZseBzbQJSqJxOp%2bIgjQ7idlmwLldzIpVexCJt4F6cp/Ig82mXcZyjLj9Ocysxi9UV55LgCnZcOh/HzopfZcN1Df0vpN38PVYWpkLtlzBBgUzIxtOVWBqZyLXcf3TGhZU8oBRa/Cl9KQDtV8pUsbhpOQR9z2H3k7O1MwhP4ixj0VJJS1MTD5WrPLfQp/B1K1h9cTafQqmoGG8/58ZyBpKE5keCCKRTCaM6K0Hi1eTYVHeXM8n4yDWQgq6MFGA290tEn4eVYqqrQZtF7LoqNAsryYjtSvoRX4mRTkvCUkjJUUZbrqjoLuOoy2ElxtZ8rUCLeO2EJ9Ok8hSfzE/2Uog4uaacEvEr9hJPt/GMG5tZcUkmPdJJOeh8Chfv136BJ2eXq1HaeKpSdSyBgVTnI52TNyKdXZAqr5cD0rl0bwP1ZUTlCqylvXREpkCKo64eJyiV8tXkS2Hm0k8CY0oOYid5yHWUQyRRdxPzlAkRv2tyZJpox30yZSPXJjLmHygY1DWKiUBkslfXOSL7L15OoUQgpfUWAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="717" data-src="/assets/static/menuconfig-wi-fi.46f75e1.5a50274207ba7e8734f2ca9437ab2e97.png" data-srcset="/assets/static/menuconfig-wi-fi.46f75e1.5a50274207ba7e8734f2ca9437ab2e97.png 717w" data-sizes="(max-width: 717px) 100vw, 717px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/menuconfig-wi-fi.46f75e1.5a50274207ba7e8734f2ca9437ab2e97.png" class="g-image g-image--loaded" width="717" alt="Menuconfig Wi-Fi"></noscript></p><h3 id="mqtt-endpoint-configuration"><a href="#mqtt-endpoint-configuration" aria-hidden="true">#</a>MQTT Endpoint Configuration</h3><p>There are two things to configure for MQTT.
The first is a MQTT broker address.
It is configurable with SDK configuration tool.</p><pre><code class="hljs language-console">cd freertos_mqtt_robonomics_example/firmware
idf.py menuconfig</code></pre><p>Set <code>Broker URL</code> in <code>Example Configuration</code> section.</p><p><img alt="Menuconfig MQTT" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 720 326' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-669ae0ce793315d0e32b95deb590ec44'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-669ae0ce793315d0e32b95deb590ec44)' width='720' height='326' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAdCAYAAAAaeWr3AAAACXBIWXMAAC4jAAAuIwF4pT92AAAHs0lEQVRYw%2b1Y%2bVPU5x3eTn/qD02MJtVOJ5lpQioeu7Cg3PdREVSU%2b1Dk0CoesAgabgSWZVGbSaY5NARY2IuFPQgY0wmdNo1NOxESo6lpk7Rj/5Onz%2bfdXVjQam39xZEfnvm87%2bd4Ps/7ed8vw6wmqXIIKQeHkFBuRjwRUTCA2FLzki%2bxwh%2bXvMQKM/SFJiSr9RCyai4iheu4MtYSkp926AISGEsi9AUmaPcPQEdoA9CFQLsKq2MRBYPQHViObQ9AF5K/o%2bTiyppCM7T5RrXWF1xgvvGePqHQZPV6kHHeg7LXZ5FFG9U8idQuN3L6vcg1erF3cAbFjO0d8CLP5IO%2bZRKZ/R7sNfuQ3DWN1G43St%2bcQ06fB7tZk0WbTs4DQzOIaHZic4MdWxod2G5wYiutrMMbCNpthJb%2b7QbHUswft6v99pA68em4FoQ32rGNNQrC0cQcrnW0ESHQNTlW7O8HjebKu9BcJq748YNh2nffWfZdfscPiV25jG3OCWx1WhFmtSDMZkE492F2C161jePZ0ffwIv0R9D0zMozNjglEuGzYOmlFuGNc1eq43zFlRyR9YfT9mDWvsPYVckUxpqU/knazfRxbGP/RyHvY4hSflX0n8DL5tzlteHFsFC9ZRvGqdRw/s4xhK%2b0PRfNbb0Pz9iMgvJcH6OYBetiwdxwvtY9BfL/g/uedFhUL6x7Hy10Wxieg77chYcCJpEEHInut0HZboe%2b1IXqAopmnpW9Hnw3b%2biZUPOq8DRE9zOmzIm7AgQSjAzv77UgxO7Glm8MkZ4zZgeQhBxLJGW9ijsmJOJMdEazX9Ust%2bcmjN9oQy5zq4RkMfTIP8x/mYSKMv5/HpU9%2bh47536L144/QNv/fQ3PUOIvWN6%2bhnWgwz6Gi3YsjfTOoN83CcGEOhotXVfwM7anBWRw1foAj/TM4znXTpavY1zyFOnJ0/OYaWrhvYF7LG8I1ixPMqen1obDNg3NvfIiT9Bl%2bTR7yNlycQ3m7B8cGZtH51kc4c2kOdeQtbnWjqMPD/VVq%2bIB112DgOs/gUr1bXv8QQ6Mf4%2b73t/H9t7fwD%2bKf391S67vf3ca/iLuPAM31xRsQfPblAv64cAN/ov3zzQVc/%2bKGwqeLflxfZQV/%2bWoRn32xgE8X7o0rLsaCCNbI%2bnogHtpDrOq7qscSFpZ5P7%2b1iFvffImvHgM033x7E4I7f1%2b2CgH/g/CwvDsheFDOag0Pw1%2bZd5viv/7bzf8bGiF6EiHiQ9f/8wAexxSfZKwNYG0AawNYG8DaANYGsDaAtQE8vQN4Uv8VflzQ3OEUnmZoPv96EU8zNBsto9g0Poqfjo8tYVPAF/QH16G5Qd/9EIxvtNzrX9FH%2bccUln0PgWUl7/24HgWajeYRbBh4H8/2D%2bM54/tYR/xkcAQvmEawnmvxbeD6eZPfL/tn%2boaVT%2bLrWatsIDeI5xnfNDSKF4QrgGBsXcBK7XOB2nX9y/4HQXhEh%2bjZYFr2rzeu1LG0H7hXWyg0%2b1umUdLuRW2PD2VtHpS0elBwzo3D3V6UcH%2bww4uCs9NIP%2bHErgYXqrp8kJ/RDnZ4UNnpVblVPTMoZ27teR/2NE0h%2brANWaddKqeYfKWtbqTXs56%2bUuZVsK6qy4v040728OJQtw9V9KUecyCmxoa4Whti74P4OrviF42Z1JPHdTm1V3b6kNfoQlSVVdXHEjurbdghOGxV9j/xanLPTSG/fRq75OfwBieymiaR99o0rRMxx1lUb0f8CT%2bij1qReNKB3WenkHLaoXwJhMqp969jjtkQWWdFWuMkcltcSG90IpOcu7gW7GmdQu5Zvz/plAM59En/9AYHdrI2%2bihF/8qmegXXwb3Es85MYjdr0qg1mfV5r00pJJ20K/2p1BV73L50ll82u5BhcCKR2vRHrEt8QU7N3tZpFCoBToU9HEgJbz%2bLArXVE4jiYSJrJxAhqJmAnnvt4Qn6rEt7sUFEs4n4MgxsLgc/46I4Bwo73ChgnwLaA23TamCpp53Ip/gcDjSNh9HVLPNK32Bv8QlnDEXnMlcGm3ba6a8nV2mPV/UK8sWf8PcrbHejqNODA%2bwr%2bcKhD%2bGMolaNHDifQ0hkUTbFFne6UdztUUMREhFaxIGUd8sB3KpJZZ9PHULicrhS5h/q86KMdidvTcjTGiYVb0bjpLoV/wDkF1%2b3GkIafdkUXdLlQRGRzYHJ4UTwIfKns4/sixmrHphh3H%2bAnJYppTGZfeWG5ZCit6hjWvHH8fYLu/x65eByLhmSaJGa/W1ulPf6UGP0IZmvQpPHJrub/ROVw%2bRwXdHrpW9SCUzgAIK3KbEU3lR6o/9m93HascfsyDTIfjlfbkpyJC6%2bJDYSu59CRJTkSz95ccIjn4HwpwWerfj8nC6Vk6P0ORR3dpNL%2beUipLdcoOiVeskVn/Bk8gVLTxlARqP/bLH8hFJOORW3xOK41%2bRzIlW8PTmYTLvivFdNTASKmKp%2bH/ZJDm01pya3Lc2ESOpkHV/vUC9AbkZeR3bgOVbwae6iePkeKylSamUIqXwdZexV3uPBPt6MHKCUe/lO89SBfIpLXlk5a%2bTgpcytNc3Qzz%2b%2b1FLBvbw40ZXFA%2bmq/Z%2bj%2bgRrreoVqmdeZ136hIKfZ/CTlk/g300piguG1TLWAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="720" data-src="/assets/static/menuconfig-mqtt.27b5a28.58057fa7f9b1dc2b6a9da6384241b2b7.png" data-srcset="/assets/static/menuconfig-mqtt.27b5a28.58057fa7f9b1dc2b6a9da6384241b2b7.png 720w" data-sizes="(max-width: 720px) 100vw, 720px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/menuconfig-mqtt.27b5a28.58057fa7f9b1dc2b6a9da6384241b2b7.png" class="g-image g-image--loaded" width="720" alt="Menuconfig MQTT"></noscript></p><p>The second thing is a MQTT topic.
We set it in the firmware with the project name prefix followed with our ESP32 MAC address.
It gives us <code>/freertos_mqtt_robonomics_example/98:F4:AB:72:23:C4</code> for our particular microchip.</p><h2 id="from-mqtt-to-robonomics"><a href="#from-mqtt-to-robonomics" aria-hidden="true">#</a>From MQTT to Robonomics</h2><p>At first let's check we receive data by MQTT.
We can subscribe to our Mosquitto MQTT broker topic device publish to.</p><pre><code class="hljs language-console"><span class="hljs-meta">$</span><span class="bash"> nix-shell -p mosquitto --run <span class="hljs-string">&quot;mosquitto_sub -h localhost -t '/freertos_mqtt_robonomics_example/98:F4:AB:72:23:C4'&quot;</span></span>
ts=1615651809, PM1=2, PM2.5=6, PM10=3</code></pre><p>Here we bring <code>mosquitto</code> package into our environment to use <code>mosquitto_sub</code> utility.
Then we subscribe to the topic set in the firmware.
We got our measurements that means AIRA receives data by MQTT correctly.
Now let's pipe these messages to Robonomics Network.</p><pre><code class="hljs language-console">nix-shell -p mosquitto --run &quot;mosquitto_sub -h localhost -t '/freertos_mqtt_robonomics_example/98:F4:AB:72:23:C4'&quot; | robonomics io write pubsub --bootnodes=/ip4/127.0.0.1/tcp/34333 /freertos_mqtt_robonomics_example</code></pre><p>Here we use <code>robonomics</code> utility to publish messages in pubsub channel <code>/freertos_mqtt_robonomics_example</code>.
We specify <code>bootnodes</code> to ensure at least one connection established.</p><p>Now we are read these messages from the same pubsub channel.</p><pre><code class="hljs language-console"><span class="hljs-meta">$</span><span class="bash"> robonomics io <span class="hljs-built_in">read</span> pubsub --listen /ip4/127.0.0.1/tcp/34333 /freertos_mqtt_robonomics_example</span>
2021-03-27 15:15:51  Generated random peer id: 12D3KooWB2nym5E6c3aPpnPKK5wB9Z6n9eZzcXSpyUBozxhi6dam
2021-03-27 15:15:51  Subscribed to topic: _robonomics_pubsub_peer_discovery
2021-03-27 15:15:51  Subscribed to topic: /freertos_mqtt_robonomics_example
2021-03-27 15:15:56  New peer connected: PeerId(&quot;12D3KooWRPLCioD2b9XLZTZJQELSAuQAyTrHUKzRktrQHtTSs6kS&quot;)
2021-03-27 15:15:56  GRAFT: Mesh link added for peer: PeerId(&quot;12D3KooWRPLCioD2b9XLZTZJQELSAuQAyTrHUKzRktrQHtTSs6kS&quot;) in topic: TopicHash { hash: &quot;_robonomics_pubsub_peer_discovery&quot; }
ts=1616843855, PM1=3, PM2.5=4, PM10=3</code></pre><h2 id="original-resources-used"><a href="#original-resources-used" aria-hidden="true">#</a>Original Resources Used</h2><ul><li>ESP32 DevKitC pinout from GoJimmy's blog <a href="https://gojimmypi.blogspot.com/2017/03/jtag-debugging-for-esp32.html" target="_blank" rel="nofollow noopener noreferrer">https://gojimmypi.blogspot.com/2017/03/jtag-debugging-for-esp32.html</a></li><li>PSM3003 data structure and decoder from OpenAirProject <a href="https://github.com/openairproject/sensor-esp32" target="_blank" rel="nofollow noopener noreferrer">https://github.com/openairproject/sensor-esp32</a></li></ul><p><strong>Thank you all!</strong></p></div><!----><section class="pageNextPrev" data-v-2eae4b42><!----><!----></section></div><div id="sidebarContent"><details open="open" data-v-36445cd5><summary data-v-36445cd5>In this article</summary><ul class="menu" data-v-36445cd5><li class="menu__item-depth-2" data-v-36445cd5><a href="#hardware-setup" class="menu__item menu-link" data-v-36445cd5>
          Hardware setup
        </a></li><li class="menu__item-depth-2" data-v-36445cd5><a href="#data-flow" class="menu__item menu-link" data-v-36445cd5>
          Data Flow
        </a></li><li class="menu__item-depth-2" data-v-36445cd5><a href="#firmware" class="menu__item menu-link" data-v-36445cd5>
          Firmware
        </a></li><li class="menu__item-depth-3" data-v-36445cd5><a href="#wi-fi-configuration" class="menu__item menu-link" data-v-36445cd5>
          Wi-Fi Configuration
        </a></li><li class="menu__item-depth-3" data-v-36445cd5><a href="#mqtt-endpoint-configuration" class="menu__item menu-link" data-v-36445cd5>
          MQTT Endpoint Configuration
        </a></li><li class="menu__item-depth-2" data-v-36445cd5><a href="#from-mqtt-to-robonomics" class="menu__item menu-link" data-v-36445cd5>
          From MQTT to Robonomics
        </a></li><li class="menu__item-depth-2" data-v-36445cd5><a href="#original-resources-used" class="menu__item menu-link" data-v-36445cd5>
          Original Resources Used
        </a></li></ul></details></div></div></div></div></main></div><footer class="footer" data-v-181c3546><div class="layout__page" data-v-181c3546><div data-v-181c3546><h4 data-v-181c3546>Main Links</h4><ul data-v-181c3546><li data-v-181c3546><a href="https://robonomics.network/" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Website</a></li><li data-v-181c3546><a href="https://dapp.robonomics.network/#/" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Robonomics dApp</a></li><li data-v-181c3546><a href="https://robonomics.cloud" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Robonomics Web Services</a></li><li data-v-181c3546><a href="https://github.com/airalab/" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Github</a></li></ul></div><div data-v-181c3546><h4 data-v-181c3546>Ways to contribute</h4><ul data-v-181c3546><li data-v-181c3546><a href="https://robonomics.network/land/support-academia/" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Academia Support Program</a></li><li data-v-181c3546><a href="https://robonomics.network/blog/community-incentive-program/" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Community Incentive Program</a></li><li data-v-181c3546><a href="https://robonomics.network/blog/rewards-for-ambassadors-and-influencers/" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>For ambassadors and influencers</a></li><li data-v-181c3546><a href="https://robonomics.network/blog/rewards-for-researchers-developers-and-engineers/" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>For researchers, developers and engineers</a></li></ul></div><div data-v-181c3546><h4 data-v-181c3546>Announcement channels</h4><ul data-v-181c3546><li data-v-181c3546><a href="https://twitter.com/AIRA_Robonomics" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Twitter</a></li><li data-v-181c3546><a href="https://t.me/robonomics" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Telegram International</a></li><li data-v-181c3546><a href="https://t.me/robonomicsru" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Telegram Русский</a></li><li data-v-181c3546><a href="https://t.me/robonomicsfr" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Telegram Français</a></li><li data-v-181c3546><a href="https://t.me/RobonomicsESP" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Telegram Español</a></li></ul></div><div data-v-181c3546><h4 data-v-181c3546>Ask your questions</h4><ul data-v-181c3546><li data-v-181c3546><a href="https://discord.gg/5UWNGNaAUf" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Discord</a></li><li data-v-181c3546><a href="https://riot.im/app/#/room/#robonomics:matrix.org" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Riot</a></li><li data-v-181c3546><a href="https://discourse.robonomics.network" target="_blank" rel="noopener" data-v-181c3546 data-v-181c3546>Forum</a></li></ul></div></div></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"doc":{"id":"a87f4a8d1e39f9d0b66d7eb057ab56b0","title":"Connect an Amazon FreeRTOS Device to Robonomics by MQTT","contributors":["khssnv"],"translated":true,"headings":[],"subtitles":[{"depth":2,"value":"Hardware setup","anchor":"#hardware-setup"},{"depth":2,"value":"Data Flow","anchor":"#data-flow"},{"depth":2,"value":"Firmware","anchor":"#firmware"},{"depth":3,"value":"Wi-Fi Configuration","anchor":"#wi-fi-configuration"},{"depth":3,"value":"MQTT Endpoint Configuration","anchor":"#mqtt-endpoint-configuration"},{"depth":2,"value":"From MQTT to Robonomics","anchor":"#from-mqtt-to-robonomics"},{"depth":2,"value":"Original Resources Used","anchor":"#original-resources-used"}],"content":"\nHere's the demonstration of how a microcontroller running [Amazon Web Services FreeRTOS](https:\u002F\u002Faws.amazon.com\u002Ffreertos\u002F) may be connected to Robonomics Network via MQTT. Please check [this repository](http:\u002F\u002Fgithub.com\u002Fkhssnv\u002Ffreertos_mqtt_robonomics_example) for the project source code.\n\nWe use [ESP32 DevKitC](https:\u002F\u002Fdevices.amazonaws.com\u002Fdetail\u002Fa3G0L00000AANtjUAH\u002FESP32-WROOM-32-DevKitC\u002F) with FreeRTOS distribution and MQTT implementation provided by [Espressif IoT Development Framework](https:\u002F\u002Fgithub.com\u002Fespressif\u002Fesp-idf) while Espressif is a vendor of the microcontroller used.\n\nAlso there is a [PMS-3003](http:\u002F\u002Fwww.plantower.com\u002Fen\u002Fcontent\u002F?107.html) sensor for demonstration purposes. Sensor measures presence of particulated matter in the air and one may use it to estimate air quality.\n\nAir quality is not a topic of the article, you may find more about it at WHO's website: [Ambient (outdoor) air pollution](https:\u002F\u002Fwww.who.int\u002Fnews-room\u002Ffact-sheets\u002Fdetail\u002Fambient-(outdoor)-air-quality-and-health). A goal of the system is to publish sensor measurements to Airalab's Robonomics network.\n\n## Hardware setup\n\nWe connect PMS3003 TXD PIN5 to ESP32 DevKitC IO17 to transfer measurements by UART.\nAlso both devices require power and common ground.\n\n![Wiring Diagram](..\u002Fimages\u002Ffreertos-mqtt\u002Fwiring.png)\n\n## Data Flow\n\nIn order to deliver sensor measurements to Robonomics network, on a firmware level our goal is to get data from a sensor by embedded communication protocol it supports (UART in our case) and pass it to AIRA instance by MQTT \u002F TCP.\n\n![Sending](..\u002Fimages\u002Ffreertos-mqtt\u002Fsend.svg)\n\nIn our example we use AIRA cloud deployment available by public IP address and domain name assigned.\nOn AIRA instance we setup `mosquitto` MQTT broker and subscribe to `\u002Ffreertos_mqtt_robonomics_example\u002F98:F4:AB:72:23:C4` topic to get messages from MQTT.\n\nThen we pass messages to `robonomics io` writer by pipe.\n\n![Receiving](..\u002Fimages\u002Ffreertos-mqtt\u002Frecv.svg)\n\nNow data available in Robonomics Network and we can be read it with `robonomics io` again.\n\n## Firmware\n\nWe use [ESP-MQTT sample application with TCP transport](https:\u002F\u002Fgithub.com\u002Fespressif\u002Fesp-idf\u002Ftree\u002Fmaster\u002Fexamples\u002Fprotocols\u002Fmqtt\u002Ftcp) as a basis.\n\nWe only modify `main\u002Fapp_main.c` for UART connection to the sensor, SNTP time synchronization and periodic MQTT publisher routine.\n\nIf you are trying to repeat the project, and it's your first ESP IDF based project, at first please follow [Espressif's ESP-IDF Programming guide](https:\u002F\u002Fdocs.espressif.com\u002Fprojects\u002Fesp-idf\u002Fen\u002Flatest\u002Fesp32\u002Fget-started\u002Findex.html#installation-step-by-step) introduction in order to familiarize with firmware operations like configuration, build and upload with `idf.py` tool.\n\n### Wi-Fi Configuration\n\nIn order to communicate with AIRA instance deployed in cloud, our microcontroller requires Internet connection.\nWe use ESP32's Wi-Fi for it.\nEspressif provides utilities to configure on-board Wi-Fi.\nIn our example we use development environment with Ubuntu 20.04 GNU\u002FLinux.\nTo configure Wi-Fi we go to project folder and run SDK configuration tool.\n\n```console\ncd freertos_mqtt_robonomics_example\u002Ffirmware\nidf.py menuconfig\n```\n\nThen we set Wi-Fi access point SSID and password in `Example Connection Configuration` section.\n\n![Menuconfig Wi-Fi](..\u002Fimages\u002Ffreertos-mqtt\u002Fmenuconfig-wi-fi.png)\n\n### MQTT Endpoint Configuration\n\nThere are two things to configure for MQTT.\nThe first is a MQTT broker address.\nIt is configurable with SDK configuration tool.\n\n```console\ncd freertos_mqtt_robonomics_example\u002Ffirmware\nidf.py menuconfig\n```\n\nSet `Broker URL` in `Example Configuration` section.\n\n![Menuconfig MQTT](..\u002Fimages\u002Ffreertos-mqtt\u002Fmenuconfig-mqtt.png)\n\nThe second thing is a MQTT topic.\nWe set it in the firmware with the project name prefix followed with our ESP32 MAC address.\nIt gives us `\u002Ffreertos_mqtt_robonomics_example\u002F98:F4:AB:72:23:C4` for our particular microchip.\n\n## From MQTT to Robonomics\n\nAt first let's check we receive data by MQTT.\nWe can subscribe to our Mosquitto MQTT broker topic device publish to.\n\n```console\n$ nix-shell -p mosquitto --run \"mosquitto_sub -h localhost -t '\u002Ffreertos_mqtt_robonomics_example\u002F98:F4:AB:72:23:C4'\"\nts=1615651809, PM1=2, PM2.5=6, PM10=3\n```\n\nHere we bring `mosquitto` package into our environment to use `mosquitto_sub` utility.\nThen we subscribe to the topic set in the firmware.\nWe got our measurements that means AIRA receives data by MQTT correctly.\nNow let's pipe these messages to Robonomics Network.\n\n```console\nnix-shell -p mosquitto --run \"mosquitto_sub -h localhost -t '\u002Ffreertos_mqtt_robonomics_example\u002F98:F4:AB:72:23:C4'\" | robonomics io write pubsub --bootnodes=\u002Fip4\u002F127.0.0.1\u002Ftcp\u002F34333 \u002Ffreertos_mqtt_robonomics_example\n```\n\nHere we use `robonomics` utility to publish messages in pubsub channel `\u002Ffreertos_mqtt_robonomics_example`.\nWe specify `bootnodes` to ensure at least one connection established.\n\nNow we are read these messages from the same pubsub channel.\n\n```console\n$ robonomics io read pubsub --listen \u002Fip4\u002F127.0.0.1\u002Ftcp\u002F34333 \u002Ffreertos_mqtt_robonomics_example\n2021-03-27 15:15:51  Generated random peer id: 12D3KooWB2nym5E6c3aPpnPKK5wB9Z6n9eZzcXSpyUBozxhi6dam\n2021-03-27 15:15:51  Subscribed to topic: _robonomics_pubsub_peer_discovery\n2021-03-27 15:15:51  Subscribed to topic: \u002Ffreertos_mqtt_robonomics_example\n2021-03-27 15:15:56  New peer connected: PeerId(\"12D3KooWRPLCioD2b9XLZTZJQELSAuQAyTrHUKzRktrQHtTSs6kS\")\n2021-03-27 15:15:56  GRAFT: Mesh link added for peer: PeerId(\"12D3KooWRPLCioD2b9XLZTZJQELSAuQAyTrHUKzRktrQHtTSs6kS\") in topic: TopicHash { hash: \"_robonomics_pubsub_peer_discovery\" }\nts=1616843855, PM1=3, PM2.5=4, PM10=3\n```\n\n## Original Resources Used\n\n* ESP32 DevKitC pinout from GoJimmy's blog https:\u002F\u002Fgojimmypi.blogspot.com\u002F2017\u002F03\u002Fjtag-debugging-for-esp32.html\n* PSM3003 data structure and decoder from OpenAirProject https:\u002F\u002Fgithub.com\u002Fopenairproject\u002Fsensor-esp32\n\n**Thank you all!**\n"}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.9fe95cd6.js" defer></script><script src="/assets/js/page--src--templates--doc-page-vue.e54852c7.js" defer></script><script src="/assets/js/278.ed3b9b1e.js" defer></script><script src="/assets/js/282.695d0430.js" defer></script><script src="/assets/js/285.4063cf08.js" defer></script><script src="/assets/js/284.7da1b516.js" defer></script><script src="/assets/js/7.ceaf11fe.js" defer></script><script src="/assets/js/280.27055714.js" defer></script><script src="/assets/js/277.38744e5e.js" defer></script><script src="/assets/js/vue-remark--docs--ja--freertos-mqtt-md.a3c90fb2.js" defer></script><script src="/assets/js/279.8b19692c.js" defer></script><script src="/assets/js/283.6a1b7770.js" defer></script><script src="/assets/js/276.abb40a19.js" defer></script>
  </body>
</html>
